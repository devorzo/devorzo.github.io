{"version":3,"sources":["pages/404.js","lib/editorjs.dependencies.js","pages/editorjs.js","pages/editArticle.js"],"names":["Page404","useEffect","document","title","className","id","data-text","style","width","fontSize","color","to","EDITOR_JS_TOOLS","embed","class","Embed","inlineToolbar","config","services","youtube","coub","imgur","twitch","gfycat","yandex","codepen","vimeo","twitter","regex","embedUrl","html","height","ids","join","instagram","table","Table","rows","cols","paragraph","Paragraph","list","List","warning","Warning","shortcut","titlePlaceholder","messagePlaceholder","code","Code","linkTool","LinkTool","endpoint","getApiLink","image","Image","uploader","uploadByFile","file","f","FormData","append","Axios","post","then","doc","console","log","data","success","url","file_name","catch","e","header","Header","quote","Quote","marker","Marker","checklist","CheckList","delimiter","Delimiter","inlineCode","InlineCode","simpleImage","SimpleImage","getRandomBanner","min","max","Math","round","random","Editor","props","instanceRef","useRef","useContext","AuthContext","user_id","user_dp","user_fullname","user_username","useState","show","setShow","data_editor","setData","mode","setMode","api","setApi","setTitle","preview","setPreview","redir","setRedirect","ready","setReady","articleId","setArticleId","banner","setBanner","article_tags","setTags","tagsInput","setTagsInput","isImageLoading","setImageLoading","instructionFocused","setInstructionFocused","handleClose","handleSave","a","current","save","savedData","blocks","length","undefined","text","handleBannerClick","articleData","JSON","parse","content","time","Date","now","version","article_id","article_banner","tags","t","map","i","tag","onClick","trim","notyf","error","type","Modal","onHide","closeButton","Title","Body","Footer","Button","variant","_data_editor","xAuthToken","auth_token","stringify","response","message","resp","maxWidth","borderRadius","src","alt","onLoad","xs","sm","display","placeItems","value","onChange","target","fontWeight","border","boxShadow","padding","background","placeholder","h","hexStrColor","inv","invertColor","backgroundColor","cursor","val","indexOf","splice","handleTagRemoval","onFocus","onBlur","toLowerCase","concat","open","instance","tools","EditArticle","disp","setDisp","author_id"],"mappings":"yHAAA,kCA4CeA,UAxCC,WAId,OAHAC,qBAAU,WACRC,SAASC,MAAQ,6BAChB,IAED,yBAAKC,UAAU,aACb,yBAAKC,GAAG,YACN,yBAAKA,GAAG,WACN,yBAAKD,UAAU,qBAAqBC,GAAG,mBACrC,yBAAKA,GAAG,mBACN,yBAAKD,UAAU,mBACb,yBAAKA,UAAU,oBACb,yBACEA,UAAU,gBACVE,YAAU,MACVC,MAAO,CAAEC,MAAO,QAASC,SAAU,UAEnC,uBAAGL,UAAU,OAAb,QAEF,uBACEA,UAAU,sBACVG,MAAO,CAAEG,MAAO,mBAAoBD,SAAU,SAFhD,kBAOA,uBAAGF,MAAO,IAAV,4CACA,kBAAC,IAAD,CAAMI,GAAG,IAAIJ,MAAO,IAApB,gC,8aCZLK,EAAkB,CAC7BC,MAAO,CACLC,MAAOC,IACPC,eAAe,EACfC,OAAQ,CACNC,SAAU,CACRC,SAAS,EACTC,MAAM,EACNC,OAAO,EACPC,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EACRC,SAAS,EACTC,OAAO,EAEPC,QAAS,CACPC,MAAO,2EACPC,SACE,sEACFC,KACE,8HACFC,OAAQ,IACRvB,MAAO,IACPH,GAAI,SAAC2B,GAAD,OAASA,EAAIC,KAAK,cAExBC,UAAW,CACTN,MAAO,yDACPC,SAAU,mBACVC,KACE,sJACFC,OAAQ,IACRvB,MAAO,QAaf2B,MAAO,CACLrB,MAAOsB,IACPpB,eAAe,EACfC,OAAQ,CACNoB,KAAM,EACNC,KAAM,IAGVC,UAAW,CACTzB,MAAO0B,IACPxB,eAAe,GAEjByB,KAAM,CACJ3B,MAAO4B,IACP1B,eAAe,GAEjB2B,QAAS,CACP7B,MAAO8B,IACP5B,eAAe,EACf6B,SAAU,cACV5B,OAAQ,CACN6B,iBAAkB,QAClBC,mBAAoB,YAGxBC,KAAMC,IAENC,SAAU,CACRpC,MAAOqC,IACPlC,OAAQ,CACNmC,SAAS,GAAD,OAAKC,cAAL,kBAIZC,MAAO,CACLxC,MAAOyC,IACPtC,OAAQ,CACNuC,SAAU,CACRC,aADQ,SACKC,GACX,IAAMC,EAAI,IAAIC,SAEd,OADAD,EAAEE,OAAO,OAAQH,GACVI,IAAMC,KAAN,UAAcV,cAAd,kBAA4CM,EAAG,IACnDK,MAAK,SAACC,GAGL,OAFAC,QAAQC,IAAIF,GAERA,EAAIG,KAAKC,QACJ,CACLA,QAAS,EACTX,KAAM,CACJY,IAAI,GAAD,OAAKjB,cAAL,iBAA0BY,EAAIG,KAAKG,aAIrC,CACLF,QAAS,MAGZG,OAAM,SAACC,GAGN,OAFAP,QAAQC,IAAIM,GACZP,QAAQC,IAAI,+BACL,CACLE,QAAS,UAOvBK,OAAQC,IACRC,MAAOC,IACPC,OAAQC,IACRC,UAAWC,IACXC,UAAWC,IACXC,WAAYC,IACZC,YAAaC,K,QCrHFC,EAAkB,WAC7B,MAAM,4BAAN,QANsBC,EAMqB,EANhBC,EAMmB,KAL/BC,KAAKC,MAAMD,KAAKE,WAAaH,GAAOD,KAAQA,IAK3D,iBANqB,IAACA,EAAKC,GA0ddI,IAldA,SAACC,GAEd,IAAMC,EAAcC,iBAAO,MAFH,EAImCC,qBACzDC,KALsB,KAIhBC,QAJgB,EAIPC,QAJO,EAIEC,cAJF,EAIiBC,cAGjBC,oBAAS,IAPT,mBAOjBC,EAPiB,KAOXC,EAPW,OAQOF,mBAAS,MARhB,mBAQjBG,EARiB,KAQJC,EARI,OASAJ,mBAAS,MATT,mBASjBK,EATiB,KASXC,EATW,OAUFN,mBAAS,IAVP,mBAUjBO,EAViB,KAUZC,EAVY,OAWER,mBAAS,IAXX,mBAWjBrG,EAXiB,KAWV8G,EAXU,OAYMT,mBAAS,IAZf,mBAYjBU,EAZiB,KAYRC,EAZQ,OAaKX,mBAAS,sCAbd,mBAajBY,EAbiB,KAaVC,EAbU,OAcEb,oBAAS,GAdX,mBAcjBc,EAdiB,KAcVC,EAdU,OAeUf,mBAAS,IAfnB,mBAejBgB,EAfiB,KAeNC,GAfM,QAgBIjB,mBAAS,MAhBb,qBAgBjBkB,GAhBiB,MAgBTC,GAhBS,SAiBQnB,mBAAS,IAjBjB,qBAiBjBoB,GAjBiB,MAiBHC,GAjBG,SAkBUrB,qBAlBV,qBAkBjBsB,GAlBiB,MAkBNC,GAlBM,SAmBkBvB,oBAAS,GAnB3B,qBAmBjBwB,GAnBiB,MAmBDC,GAnBC,SAoB4BzB,mBAAS,GApBrC,qBAoBjB0B,GApBiB,MAoBGC,GApBH,MAqFxB,SAASC,KACP1B,GAAQ,GAtFc,SAwFT2B,KAxFS,8EAwFxB,4BAAAC,EAAA,sEAC0BtC,EAAYuC,QAAQC,OAD9C,QACQC,EADR,QAGcC,OAAOC,OAAS,QACNC,GAApBH,EAAUC,QACU,MAApBD,EAAUC,QAMND,EAAUC,OAAO,GAAGtE,MAClBqE,EAAUC,OAAO,GAAGtE,KAAKyE,MAC3B1B,EAAWsB,EAAUC,OAAO,GAAGtE,KAAKyE,MAI1CjC,EAAQ6B,GAjBV,4CAxFwB,sBAkLxB,SAASK,KACPb,IAAgB,GAEdN,GADa,OAAXD,GACQlC,IAEA,MAoCd,OAhCAvF,qBAAU,WACW,SAAf8F,EAAMc,MACRC,EAAQ,QACRE,EAAO,qBACHjB,EAAMgD,aACR9B,EAASlB,EAAMgD,YAAY5I,MAAQ4F,EAAMgD,YAAY5I,MAAQ,IAC7DyG,EAAQoC,KAAKC,MAAMlD,EAAMgD,YAAYG,WAErCtC,EAAQ,CAAEuC,KAAMC,KAAKC,MAAOX,OAAQ,GAAIY,QAAS,aAGnDxC,EAAQ,WACRE,EAAO,iBACPJ,EAAQ,CAAEuC,KAAMC,KAAKC,MAAOX,OAAQ,GAAIY,QAAS,WACjD3B,GAAU,SAEX,IAEH1H,qBAAU,WACR,GAAI8F,EAAMgD,cACRxB,GAAS,GACTE,GAAa1B,EAAMgD,YAAYQ,YAC/B3C,EAAQoC,KAAKC,MAAMlD,EAAMgD,YAAYG,UACrCvB,GAAU5B,EAAMgD,YAAYS,gBAExBzD,EAAMgD,YAAYU,MAAM,CAC1B,IAAMC,EAAI3D,EAAMgD,YAAYU,KAAKE,KAAI,SAACC,GAAD,OAAOA,EAAEC,OAC9ChC,GAAQ6B,MAGX,CAAC3D,EAAMgD,cAGR,oCAEG3B,EACD,yBAAKhH,UAAU,aACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,YAEb,4BACEA,UAAU,mCACV0J,QAnKZ,WACsB,IAAhB3J,EAAM4J,QAAgB5J,EAAM4J,OAAOpB,OAAS,IAC9C5C,EAAMiE,MAAMC,MAAM,yBAIhBtD,EAAY+B,OAAOC,OAAS,IAEG,cAA/BhC,EAAY+B,OAAO,GAAGwB,MACS,WAA/BvD,EAAY+B,OAAO,GAAGwB,MAZ1BxD,GAAQ,GAmBNX,EAAMiE,MAAMC,MAAM,4BAoJVC,KAAK,UAEJrD,GAEH,kBAACsD,EAAA,EAAD,CACE1D,KAAMA,EACN2D,OAAQhC,IAIR,kBAAC+B,EAAA,EAAMxF,OAAP,CAAc0F,aAAW,GACvB,kBAACF,EAAA,EAAMG,MAAP,KAAczD,EAAd,aAEF,kBAACsD,EAAA,EAAMI,KAAP,0BACqB1D,EADrB,iBAEE,8BAEF,kBAACsD,EAAA,EAAMK,OAAP,KACE,kBAACC,EAAA,EAAD,CAAQC,QAAQ,YAAYZ,QAAS1B,IAArC,SAGA,kBAACqC,EAAA,EAAD,CAAQC,QAAQ,UAAUZ,QA9IxC,WAEE,GADAzB,KACoB,IAAhBlI,EAAM4J,QAAgB5J,EAAM4J,OAAOpB,OAAS,IAC9C5C,EAAMiE,MAAMC,MAAM,8BAIpB,GAAItD,EAAY+B,OAAOC,OAAS,EAAG,CAKjC,IAAMgC,EAAe,GACF,SAAf5E,EAAMc,OACR8D,EAAapB,WAAa/B,GAKb,OAAXE,KACFiD,EAAanB,eAAiB9B,IAEhCiD,EAAaC,WAAa7E,EAAM8E,WAChCF,EAAaxK,MAAQA,EACrBwK,EAAazB,QAAUF,KAAK8B,UAAUnE,GACtCgE,EAAazD,QAAUA,EACvByD,EAAalB,KAAO7B,GAEpB1D,QAAQC,IAAI,CAAEwG,iBAEd7G,IAAMC,KAAN,UAAcV,cAAd,mBAAqC0D,GAAO4D,GACzC3G,MAAK,SAAC+G,GACL7G,QAAQC,IAAI4G,GACRA,EAAS3G,KAAKC,UACG,SAAf0B,EAAMc,KACRd,EAAMiE,MAAM3F,QAAQ,iBAEpB0B,EAAMiE,MAAM3F,QAAQ,qBAEtBgD,EACE,oCACE,kBAAC,IAAD,CACE1G,GAAK,gBACMoK,EAAS3G,KAAK4G,QAAQ5G,KAAKmF,oBAM/C/E,OAAM,SAACC,GACFA,GACFP,QAAQC,IAAI,CAAE8G,KAAMxG,EAAEsG,SAAS3G,OACO,OAAlCK,EAAEsG,SAAS3G,KAAK6F,MAAMe,QACxBjF,EAAMiE,MAAMC,MAAZ,UAAqBxF,EAAEsG,SAAS3G,KAAK6F,MAAMe,UAE3CjF,EAAMiE,MAAMC,MAAM,kBAGpBlE,EAAMiE,MAAMC,MAAM,yBAOxBlE,EAAMiE,MAAMC,MAAM,6BA8ELpD,MAMT,yBAAKzG,UAAU,0BACb,yBAAKA,UAAU,eAEH,OAAXsH,IAA6B,IAAVA,IAClB,oCACE,yBAAKtH,UAAU,gDACb,yBACEA,UAAS,UACP4H,GAAiB,UAAY,GADtB,4BAGTzH,MAAO,CACLwB,OAAQ,QACRmJ,SAAU,OACV1K,MAAO,QACP2K,aAAc,QAGhB,yBACEC,IAAK1D,GACL2D,IAAI,OACJC,OAAQ,WACNrD,IAAgB,IAElB1H,MAAO,CACLwB,OAAQ,OACRvB,MAAO,OACP2K,aAAc,UAKpB,kBAAC,IAAD,CAAYI,IAAE,EAACC,IAAE,GACf,8BAEF,yBAAKpL,UAAU,mBACb,4BACEA,UAAU,sDACV0J,QAAS,WACP7B,IAAgB,GAChBN,GAAUnC,MAEZ0E,KAAK,UANP,UAWA,4BACE9J,UAAU,wDACV0J,QAAS,WACP7B,IAAgB,GAChBN,GAAUnC,MAEZ0E,KAAK,UANP,aAWA,4BACE9J,UAAU,qDACV0J,QAAShB,GACToB,KAAK,UAHP,cAYK,OAAXxC,IAA8B,KAAXA,KACnB,oCACE,yBAAKtH,UAAU,SACb,yBACEA,UAAS,UAAK4H,GAAiB,UAAY,GAAlC,YACTzH,MAAO,CACLwB,OAAQ,QACRmJ,SAAU,OACV1K,MAAO,QACP2K,aAAc,MACdM,QAAS,OACTC,WAAY,WAGd,4BACEtL,UAAU,iCACV0J,QAAShB,GACToB,KAAK,UAHP,iBAYR,6BAEA,8BACEA,KAAK,OACL9J,UAAU,oBACVuL,MAAOxL,EACPyL,SAAU,SAACnH,GACLA,EAAEoH,OAAOF,MAAMhD,OAAS,KAAK1B,EAASxC,EAAEoH,OAAOF,QAErDpL,MAAO,CACLE,SAAU,OACVqL,WAAY,MACZC,OAAQ,QACRC,UAAW,QACXC,QAAS,QACTC,WAAY,SAIdC,YAAY,WACZ9J,KAAK,MAEP,yBAAKjC,UAAU,aACZwH,GAAa+B,KAAI,SAACC,GACjB,IAAMwC,EAAIC,YAAYzC,GAChB0C,EAAMC,YAAYH,GAAG,GAG3B,OADAlI,QAAQC,IAAI,CAAEiI,IAAGE,QAEf,oCACE,yBACElM,UAAU,mCACVG,MAAO,CACLiM,gBAAgB,IAAD,OAAMJ,GACrB1L,MAAO4L,EACPG,OAAQ,WAEV3C,QAAS,kBApV7B,SAA0B4C,GACxB,IAAM9C,EAAIhC,GAAa+E,QAAQD,GAC/B,IAAW,IAAP9C,EAAU,CACZ,IAAMF,EAAI9B,GACV8B,EAAEkD,OAAOhD,EAAG,GACZ/B,GAAQ6B,GACRrB,UAEAtC,EAAMiE,MAAMC,MAAM,iBA4Ua4C,CAAiBjD,KAPlC,IASIA,OAMThC,GAAae,OAAS,GACrB,oCACE,yBAAKvI,UAAU,aAAaG,MAAO,CAAEE,SAAU,QAA/C,sCAOLmH,GAAae,OAAS,GACrB,2BACEuB,KAAK,OACL9J,UAAU,eACVG,MAAO,CAELwL,OAAQ,QACRC,UAAW,QACXC,QAAS,QACTC,WAAY,SAEdC,YAC6B,GAAvBvE,GAAae,OACR,qBAELf,GAAae,OAAS,GAAKf,GAAae,OAAS,EAC7C,OAAN,OAAc,EAAIf,GAAae,OAA/B,iBAEI,OAAN,OAAc,EAAIf,GAAae,OAA/B,gBAEFgD,MAAO7D,GACPgF,QAAS,WACP3E,GAAsB,IAExB4E,OAAQ,WACN5E,GAAsB,IAExByD,SA7Zd,SAA4BnH,GAC1B,IAAMiI,EAAMjI,EAAEoH,OAAOF,MAErB,GAAiB,MADAe,EAAIA,EAAI/D,OAAS,GACZ,CAGpB,GAAIf,GAAae,OAAS,EACxB,GAAI+D,EAAI3C,OAAOpB,QAAU,GAAK+D,EAAI3C,OAAOpB,QAAU,GAAI,CACrD,IAAMe,EAAI9B,IACmC,IAAzC8B,EAAEiD,QAAQD,EAAI3C,OAAOiD,eACvBnF,GAAQ6B,EAAEuD,OAAOP,EAAI3C,OAAOiD,gBAE5BjH,EAAMiE,MAAMkD,KAAK,CACfhD,KAAM,OACNc,QAAS,yCAIbjF,EAAMiE,MAAMC,MAAM,oBAGpBlE,EAAMiE,MAAMC,MAAM,qDAEpBlC,GAAa,SAEbA,GAAa2E,MAuYiB,IAAvBxE,IAA4BN,GAAae,OAAS,GACjD,yBAAKvI,UAAU,aAAaG,MAAO,CAAEE,SAAU,QAA/C,2BAKF,yBAAKL,UAAU,eAEG,SAAf2F,EAAMc,MAAmBS,GAAyB,QAAfvB,EAAMc,OAC1C,oCACE,kBAAC,IAAD,CACEsF,YAAY,sBAEZnG,YAAa,SAACmH,GAAD,OAAenH,EAAYuC,QAAU4E,GAClDvB,SAAUvD,GACV+E,MAAOxM,EACPwD,KAAMuC,MAMd,yBAAKvG,UAAU,kB,8HClZViN,UAtEK,SAACtH,GACnB7B,QAAQC,IAAI4B,GADiB,MAEGG,qBAAWC,KAAnCC,EAFqB,EAErBA,QAASyE,EAFY,EAEZA,WAFY,EAGLrE,mBAAS,MAHJ,mBAGtBpC,EAHsB,KAGhBwC,EAHgB,OAILJ,mBAAS,GAJJ,mBAItB8G,EAJsB,KAIhBC,EAJgB,KA0C7B,OApCAtN,qBAAU,WACR6D,IAAMC,KAAN,UAAcV,cAAd,0BAAoD,CAClDuH,WAAYC,EACZtB,WAAYxD,EAAMyB,YAEjBxD,MAAK,SAAC+G,GACL7G,QAAQC,IAAI4G,GAGRA,EAAS3G,KAAKC,UAEZ0G,EAAS3G,KAAK4G,QAAQ5G,KAAKoJ,YAAcpH,GAC3CQ,EAAQmE,EAAS3G,KAAK4G,QAAQ5G,MAC9BmJ,EAAQ,GACRrN,SAASC,MAAQ,0BAEjBoN,EAAQ,OAIb/I,OAAM,SAACC,GAGN8I,EAAQ,GACJ9I,GACFP,QAAQC,IAAI,CAAE8G,KAAMxG,EAAEsG,SAAS3G,OACO,OAAlCK,EAAEsG,SAAS3G,KAAK6F,MAAMe,QACxBhB,IAAMC,MAAN,UAAexF,EAAEsG,SAAS3G,KAAK6F,MAAMe,UAErChB,IAAMC,MAAM,UAGdD,IAAMC,MAAM,cAGjB,IAED,oCAEiB,IAATqD,EAEA,oCACE,kBAAC,IAAD,CACEzG,KAAK,OACLT,QAASA,EACT4D,MAAOA,IACPa,WAAYA,EACZ9B,YAAa3E,KAKR,IAATkJ,EAEA,oCACE,kBAAC,UAAD,YAHN","file":"static/js/7.11d0d3e0.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\n\nimport { Link } from 'react-router-dom';\n\nconst Page404 = () => {\n  useEffect(() => {\n    document.title = 'Page not found - Lattice';\n  }, []);\n  return (\n    <div className=\"container\">\n      <div id=\"page-top\">\n        <div id=\"wrapper\">\n          <div className=\"d-flex flex-column\" id=\"content-wrapper\">\n            <div id=\"content card-sh\">\n              <div className=\"container-fluid\">\n                <div className=\"text-center mt-5\">\n                  <div\n                    className=\"error mx-auto\"\n                    data-text=\"404\"\n                    style={{ width: '297px', fontSize: '147px' }}\n                  >\n                    <p className=\"m-0\">404</p>\n                  </div>\n                  <p\n                    className=\"text-dark mb-5 lead\"\n                    style={{ color: 'rgb(255,255,255)', fontSize: '50px' }}\n                  >\n                    Page Not Found\n                  </p>\n                  {/* color: \"rgb(203,207,238)\"  */}\n                  <p style={{}}>There seems to be a glitch in the Matrix</p>\n                  <Link to=\"/\" style={{}}>\n                    ‚Üê Back to Home\n                  </Link>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Page404;\n","import Axios from 'axios';\nimport Embed from '@editorjs/embed';\nimport Table from '@editorjs/table';\nimport Paragraph from '@editorjs/paragraph';\nimport List from '@editorjs/list';\nimport Warning from '@editorjs/warning';\nimport Code from '@editorjs/code';\nimport LinkTool from '@editorjs/link';\nimport Image from '@editorjs/image';\n// import Raw from '@editorjs/raw'\nimport Header from '@editorjs/header';\nimport Quote from '@editorjs/quote';\nimport Marker from '@editorjs/marker';\nimport CheckList from '@editorjs/checklist';\nimport Delimiter from '@editorjs/delimiter';\nimport InlineCode from '@editorjs/inline-code';\nimport SimpleImage from '@editorjs/simple-image';\nimport { getApiLink } from './env.lib';\n\nexport const EDITOR_JS_TOOLS = {\n  embed: {\n    class: Embed,\n    inlineToolbar: true,\n    config: {\n      services: {\n        youtube: true,\n        coub: true,\n        imgur: true,\n        twitch: true,\n        gfycat: true,\n        yandex: true,\n        codepen: true,\n        vimeo: true,\n        // twitter:true,\n        twitter: {\n          regex: /^https?:\\/\\/twitter\\.com\\/(?:#!\\/)?(\\w+)\\/status(?:es)?\\/(\\d+)(?:\\/.*)?$/,\n          embedUrl:\n            'https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>',\n          html:\n            '<iframe width=\"100%\" height=\"600\" style=\"margin: 0 auto;\" frameborder=\"0\" scrolling=\"no\" allowtransparency=\"true\"></iframe>',\n          height: 600,\n          width: 600,\n          id: (ids) => ids.join('/status/'),\n        },\n        instagram: {\n          regex: /(https?:\\/\\/(?:www\\.)?instagram\\.com\\/p\\/([^/?#&]+)).*/,\n          embedUrl: '<%= remote_id %>',\n          html:\n            '<div style=\"width: 100%; height: 100px; background-color: #DB2E6E; text-align: center; color: #ffffff; padding-top: 40px\">Instagram embedded.</div>',\n          height: 300,\n          width: 600,\n        },\n\n        // instagram: {\n        //     regex: /https?:\\/\\/www\\.instagram\\.com\\/p\\/([^\\/\\?\\&]+)\\/?/,\n        //     embedUrl: 'https://www.instagram.com/p/<%= remote_id %>/embed',\n        //     html: '<iframe width=\"400\" height=\"505\" style=\"margin: 0 auto;\" frameborder=\"0\" scrolling=\"no\" allowtransparency=\"true\"></iframe>',\n        //     height: 505,\n        //     width: 400\n        // },\n      },\n    },\n  },\n  table: {\n    class: Table,\n    inlineToolbar: true,\n    config: {\n      rows: 2,\n      cols: 3,\n    },\n  },\n  paragraph: {\n    class: Paragraph,\n    inlineToolbar: true,\n  },\n  list: {\n    class: List,\n    inlineToolbar: true,\n  },\n  warning: {\n    class: Warning,\n    inlineToolbar: true,\n    shortcut: 'CMD+SHIFT+W',\n    config: {\n      titlePlaceholder: 'Title',\n      messagePlaceholder: 'Message',\n    },\n  },\n  code: Code,\n  // linkTool: LinkTool,\n  linkTool: {\n    class: LinkTool,\n    config: {\n      endpoint: `${getApiLink()}/linkToolUrl`, // Your backend endpoint for url data fetching\n    },\n  },\n  // image: Image,\n  image: {\n    class: Image,\n    config: {\n      uploader: {\n        uploadByFile(file) {\n          const f = new FormData();\n          f.append('file', file);\n          return Axios.post(`${getApiLink()}/api/v1/upload`, f, {})\n            .then((doc) => {\n              console.log(doc);\n\n              if (doc.data.success) {\n                return {\n                  success: 1,\n                  file: {\n                    url: `${getApiLink()}/file/${doc.data.file_name}`,\n                  },\n                };\n              }\n              return {\n                success: 0,\n              };\n            })\n            .catch((e) => {\n              console.log(e);\n              console.log('Error while uploading image');\n              return {\n                success: 0,\n              };\n            });\n        },\n      },\n    },\n  },\n  header: Header,\n  quote: Quote,\n  marker: Marker,\n  checklist: CheckList,\n  delimiter: Delimiter,\n  inlineCode: InlineCode,\n  simpleImage: SimpleImage,\n};\n\nexport default {\n  EDITOR_JS_TOOLS,\n};\n","/* eslint-disable no-underscore-dangle */\r\n/* eslint-disable eqeqeq */\r\nimport React, { useContext, useRef, useState, useEffect } from 'react';\r\n\r\nimport EditorJs from 'react-editor-js';\r\nimport Axios from 'axios';\r\n\r\nimport { Button, Modal } from 'react-bootstrap';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { AuthContext } from '../contexts/auth_context';\r\nimport { hexStrColor, invertColor } from '../lib/colors.lib';\r\nimport { EDITOR_JS_TOOLS } from '../lib/editorjs.dependencies';\r\nimport { getApiLink } from '../lib/env.lib';\r\nimport Breakpoint from '../components/breakpoint/breakpoint';\r\n\r\nexport const randNum = (min, max) => {\r\n  const random = Math.round(Math.random() * (+max - +min) + +min);\r\n  return random;\r\n};\r\n\r\nexport const getRandomBanner = () => {\r\n  return `https://picsum.photos/id/${randNum(0, 1084)}/1000/400.jpg`;\r\n};\r\nconst Editor = (props) => {\r\n  // let key_i = 0;\r\n  const instanceRef = useRef(null);\r\n\r\n  const { user_id, user_dp, user_fullname, user_username } = useContext(\r\n    AuthContext,\r\n  );\r\n  const [show, setShow] = useState(false);\r\n  const [data_editor, setData] = useState(null);\r\n  const [mode, setMode] = useState(null);\r\n  const [api, setApi] = useState('');\r\n  const [title, setTitle] = useState('');\r\n  const [preview, setPreview] = useState('');\r\n  const [redir, setRedirect] = useState(<></>);\r\n  const [ready, setReady] = useState(false);\r\n  const [articleId, setArticleId] = useState('');\r\n  const [banner, setBanner] = useState('NA');\r\n  const [article_tags, setTags] = useState([]);\r\n  const [tagsInput, setTagsInput] = useState();\r\n  const [isImageLoading, setImageLoading] = useState(true);\r\n  const [instructionFocused, setInstructionFocused] = useState(0);\r\n  function handleTagsAddition(e) {\r\n    const val = e.target.value;\r\n    const lastChar = val[val.length - 1]; // take only the last character\r\n    if (lastChar === ' ') {\r\n      // check if the last character is a <space>\r\n\r\n      if (article_tags.length < 5) {\r\n        if (val.trim().length >= 3 && val.trim().length <= 20) {\r\n          const t = article_tags;\r\n          if (t.indexOf(val.trim().toLowerCase()) === -1) {\r\n            setTags(t.concat(val.trim().toLowerCase()));\r\n          } else {\r\n            props.notyf.open({\r\n              type: 'warn',\r\n              message: 'The tag has already been added.',\r\n            });\r\n          }\r\n        } else {\r\n          props.notyf.error('Invalid tag');\r\n        }\r\n      } else {\r\n        props.notyf.error('Only upto 5 tags are allowed on a single article.');\r\n      }\r\n      setTagsInput('');\r\n    } else {\r\n      setTagsInput(val);\r\n    }\r\n  }\r\n\r\n  function handleTagRemoval(val) {\r\n    const i = article_tags.indexOf(val);\r\n    if (i !== -1) {\r\n      const t = article_tags;\r\n      t.splice(i, 1);\r\n      setTags(t);\r\n      handleSave();\r\n    } else {\r\n      props.notyf.error('Tag not found');\r\n    }\r\n  }\r\n\r\n  function handleOpen() {\r\n    setShow(true);\r\n  }\r\n\r\n  function validatePublish() {\r\n    if (title.trim() == '' || title.trim().length > 120) {\r\n      props.notyf.error('Invalid article title');\r\n      return;\r\n    }\r\n\r\n    if (data_editor.blocks.length > 0) {\r\n      if (\r\n        data_editor.blocks[0].type === 'paragraph' ||\r\n        data_editor.blocks[0].type === 'header'\r\n      ) {\r\n        handleOpen();\r\n      } else {\r\n        props.notyf.error('Invalid article content');\r\n      }\r\n    } else {\r\n      props.notyf.error('Invalid article content');\r\n    }\r\n  }\r\n  function handleClose() {\r\n    setShow(false);\r\n  }\r\n  async function handleSave() {\r\n    const savedData = await instanceRef.current.save();\r\n    if (\r\n      savedData.blocks.length > 0 &&\r\n      savedData.blocks != undefined &&\r\n      savedData.blocks != null\r\n    ) {\r\n      // if (\r\n      //   savedData.blocks[0].type === 'paragraph' ||\r\n      //   savedData.blocks[0].type === 'header'\r\n      // )\r\n      if (savedData.blocks[0].data) {\r\n        if (savedData.blocks[0].data.text) {\r\n          setPreview(savedData.blocks[0].data.text);\r\n        }\r\n      }\r\n    }\r\n    setData(savedData);\r\n    // console.log('savedData', savedData);\r\n  }\r\n\r\n  function handleBtnClick() {\r\n    handleSave();\r\n    if (title.trim() == '' || title.trim().length > 120) {\r\n      props.notyf.error('Invalid article title');\r\n      return;\r\n    }\r\n\r\n    if (data_editor.blocks.length > 0) {\r\n      // if (\r\n      //   data_editor.blocks[0].type === 'paragraph' ||\r\n      //   data_editor.blocks[0].type === 'header'\r\n      // ) {\r\n      const _data_editor = {};\r\n      if (props.mode === 'edit') {\r\n        _data_editor.article_id = articleId;\r\n      }\r\n      // else if (props.mode === 'new') {\r\n      // }\r\n\r\n      if (banner !== 'NA') {\r\n        _data_editor.article_banner = banner;\r\n      }\r\n      _data_editor.xAuthToken = props.auth_token;\r\n      _data_editor.title = title;\r\n      _data_editor.content = JSON.stringify(data_editor);\r\n      _data_editor.preview = preview;\r\n      _data_editor.tags = article_tags;\r\n\r\n      console.log({ _data_editor });\r\n\r\n      Axios.post(`${getApiLink()}/api/v1/${api}`, _data_editor)\r\n        .then((response) => {\r\n          console.log(response);\r\n          if (response.data.success) {\r\n            if (props.mode === 'edit') {\r\n              props.notyf.success('Saved article');\r\n            } else {\r\n              props.notyf.success('Published article');\r\n            }\r\n            setRedirect(\r\n              <>\r\n                <Redirect\r\n                  to={(() =>\r\n                    `/read/${response.data.message.data.article_id}`)()}\r\n                />\r\n              </>,\r\n            );\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          if (e) {\r\n            console.log({ resp: e.response.data });\r\n            if (e.response.data.error.message !== null) {\r\n              props.notyf.error(`${e.response.data.error.message}`);\r\n            } else {\r\n              props.notyf.error('Error occured');\r\n            }\r\n          } else {\r\n            props.notyf.error('Error occured');\r\n          }\r\n        });\r\n      // } else {\r\n      //   props.notyf.error('Invalid article title');\r\n      // }\r\n    } else {\r\n      props.notyf.error('Invalid article content');\r\n    }\r\n  }\r\n\r\n  function handleBannerClick() {\r\n    setImageLoading(true);\r\n    if (banner === 'NA') {\r\n      setBanner(getRandomBanner());\r\n    } else {\r\n      setBanner('NA');\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (props.mode === 'edit') {\r\n      setMode('Save');\r\n      setApi('updateArticleById');\r\n      if (props.articleData) {\r\n        setTitle(props.articleData.title ? props.articleData.title : '');\r\n        setData(JSON.parse(props.articleData.content));\r\n      } else {\r\n        setData({ time: Date.now(), blocks: [], version: '2.17.0' });\r\n      }\r\n    } else {\r\n      setMode('Publish');\r\n      setApi('createArticle');\r\n      setData({ time: Date.now(), blocks: [], version: '2.17.0' });\r\n      setBanner('NA');\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (props.articleData) {\r\n      setReady(true);\r\n      setArticleId(props.articleData.article_id);\r\n      setData(JSON.parse(props.articleData.content));\r\n      setBanner(props.articleData.article_banner);\r\n\r\n      if (props.articleData.tags) {\r\n        const t = props.articleData.tags.map((i) => i.tag);\r\n        setTags(t);\r\n      }\r\n    }\r\n  }, [props.articleData]);\r\n\r\n  return (\r\n    <>\r\n      {/* <br /> */}\r\n      {redir}\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-2\">\r\n            {/* <hr className=\"light\"/> */}\r\n            <button\r\n              className=\"btn btn-primary btn-lg mt-2 mb-2\"\r\n              onClick={validatePublish}\r\n              type=\"button\"\r\n            >\r\n              {mode}\r\n            </button>\r\n            <Modal\r\n              show={show}\r\n              onHide={handleClose}\r\n              // size=\"lg\"\r\n              // dialogClassName=\"modal-90w\"\r\n            >\r\n              <Modal.Header closeButton>\r\n                <Modal.Title>{mode} Article</Modal.Title>\r\n              </Modal.Header>\r\n              <Modal.Body>\r\n                Would you like to {mode} this article.\r\n                <br />\r\n              </Modal.Body>\r\n              <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={handleClose}>\r\n                  Close\r\n                </Button>\r\n                <Button variant=\"primary\" onClick={handleBtnClick}>\r\n                  {mode}\r\n                </Button>\r\n              </Modal.Footer>\r\n            </Modal>\r\n          </div>\r\n\r\n          <div className=\"col-md-8 custom-card2x\">\r\n            <div className=\"w-100 mt-2\" />\r\n\r\n            {banner !== 'NA' && banner != '' && (\r\n              <>\r\n                <div className=\"w-100 d-flex flex-row flex-wrap items-center\">\r\n                  <div\r\n                    className={`${\r\n                      isImageLoading ? 'preload' : ''\r\n                    } mr-md-2 d-inline-blockx`}\r\n                    style={{\r\n                      height: '120px',\r\n                      maxWidth: '100%',\r\n                      width: '300px',\r\n                      borderRadius: '4px',\r\n                    }}\r\n                  >\r\n                    <img\r\n                      src={banner}\r\n                      alt=\"&nbsp;\"\r\n                      onLoad={() => {\r\n                        setImageLoading(false);\r\n                      }}\r\n                      style={{\r\n                        height: 'auto',\r\n                        width: '100%',\r\n                        borderRadius: '4px',\r\n                      }}\r\n                    />\r\n                  </div>\r\n\r\n                  <Breakpoint xs sm>\r\n                    <br />\r\n                  </Breakpoint>\r\n                  <div className=\"mt-auto mb-auto\">\r\n                    <button\r\n                      className=\"btn btn-sm btn-outline-primary mr-2 d-inline-blockx\"\r\n                      onClick={() => {\r\n                        setImageLoading(true);\r\n                        setBanner(getRandomBanner());\r\n                      }}\r\n                      type=\"button\"\r\n                    >\r\n                      Change\r\n                    </button>\r\n\r\n                    <button\r\n                      className=\"btn btn-sm btn-outline-secondary mr-2 d-inline-blockx\"\r\n                      onClick={() => {\r\n                        setImageLoading(true);\r\n                        setBanner(getRandomBanner());\r\n                      }}\r\n                      type=\"button\"\r\n                    >\r\n                      Randomize\r\n                    </button>\r\n\r\n                    <button\r\n                      className=\"btn btn-sm btn-outline-danger mr-2 d-inline-blockx\"\r\n                      onClick={handleBannerClick}\r\n                      type=\"button\"\r\n                    >\r\n                      Remove\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n            {(banner === 'NA' || banner === '') && (\r\n              <>\r\n                <div className=\"w-100\">\r\n                  <div\r\n                    className={`${isImageLoading ? 'preload' : ''} mr-md-2`}\r\n                    style={{\r\n                      height: '120px',\r\n                      maxWidth: '100%',\r\n                      width: '300px',\r\n                      borderRadius: '4px',\r\n                      display: 'grid',\r\n                      placeItems: 'center',\r\n                    }}\r\n                  >\r\n                    <button\r\n                      className=\"btn btn-outline-primary btn-sm\"\r\n                      onClick={handleBannerClick}\r\n                      type=\"button\"\r\n                    >\r\n                      Add Banner\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n            <br />\r\n\r\n            <textarea\r\n              type=\"text\"\r\n              className=\"form-control mt-2\"\r\n              value={title}\r\n              onChange={(e) => {\r\n                if (e.target.value.length < 120) setTitle(e.target.value);\r\n              }}\r\n              style={{\r\n                fontSize: '28px',\r\n                fontWeight: '600',\r\n                border: 'unset',\r\n                boxShadow: 'unset',\r\n                padding: 'unset',\r\n                background: 'unset',\r\n                // color: '#000',\r\n                // height: '47px',\r\n              }}\r\n              placeholder=\"Title...\"\r\n              rows=\"1\"\r\n            />\r\n            <div className=\"tags mb-2\">\r\n              {article_tags.map((i) => {\r\n                const h = hexStrColor(i);\r\n                const inv = invertColor(h, true);\r\n\r\n                console.log({ h, inv });\r\n                return (\r\n                  <>\r\n                    <div\r\n                      className=\"tag d-inline-block noselect mr-2\"\r\n                      style={{\r\n                        backgroundColor: `#${h}`,\r\n                        color: inv,\r\n                        cursor: 'pointer',\r\n                      }}\r\n                      onClick={() => handleTagRemoval(i)}\r\n                    >\r\n                      #{i}\r\n                    </div>\r\n                  </>\r\n                );\r\n              })}\r\n\r\n              {article_tags.length > 0 && (\r\n                <>\r\n                  <div className=\"text-muted\" style={{ fontSize: '9px' }}>\r\n                    Click on the tags to remove them\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n            {article_tags.length < 5 && (\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                style={{\r\n                  // fontSize: '12px',\r\n                  border: 'unset',\r\n                  boxShadow: 'unset',\r\n                  padding: 'unset',\r\n                  background: 'unset',\r\n                }}\r\n                placeholder={(() => {\r\n                  if (article_tags.length == 0) {\r\n                    return 'Add upto 5 tags...';\r\n                  }\r\n                  if (article_tags.length > 0 && article_tags.length < 4) {\r\n                    return `Add ${5 - article_tags.length} more tags...`;\r\n                  }\r\n                  return `Add ${5 - article_tags.length} more tag...`;\r\n                })()}\r\n                value={tagsInput}\r\n                onFocus={() => {\r\n                  setInstructionFocused(1);\r\n                }}\r\n                onBlur={() => {\r\n                  setInstructionFocused(0);\r\n                }}\r\n                onChange={handleTagsAddition}\r\n              />\r\n            )}\r\n            {instructionFocused === 1 && article_tags.length < 5 && (\r\n              <div className=\"text-muted\" style={{ fontSize: '9px' }}>\r\n                Press space to add tags\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"mt-2 mb-2\" />\r\n\r\n            {((props.mode === 'edit' && ready) || props.mode === 'new') && (\r\n              <>\r\n                <EditorJs\r\n                  placeholder=\"Write an awesome...\"\r\n                  // eslint-disable-next-line no-return-assign\r\n                  instanceRef={(instance) => (instanceRef.current = instance)}\r\n                  onChange={handleSave}\r\n                  tools={EDITOR_JS_TOOLS}\r\n                  data={data_editor}\r\n                />\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"col-md-2\" />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Editor;\r\n","import React, { useEffect, useState, useContext } from 'react';\nimport Axios from 'axios';\nimport Editor from './editorjs';\nimport { AuthContext } from '../contexts/auth_context';\nimport { getApiLink } from '../lib/env.lib';\n\nimport Page404 from './404';\n\nimport notyf from '../lib/notification';\n\nconst EditArticle = (props) => {\n  console.log(props);\n  const { user_id, auth_token } = useContext(AuthContext);\n  const [data, setData] = useState(null);\n  const [disp, setDisp] = useState(0);\n\n  useEffect(() => {\n    Axios.post(`${getApiLink()}/api/v1/getArticleById`, {\n      xAuthToken: auth_token,\n      article_id: props.articleId,\n    })\n      .then((response) => {\n        console.log(response);\n        // alert(response)\n\n        if (response.data.success) {\n          // notyf.success(\"Loaded successfully!\")\n          if (response.data.message.data.author_id === user_id) {\n            setData(response.data.message.data);\n            setDisp(1);\n            document.title = 'Edit Article - Lattice';\n          } else {\n            setDisp(2);\n          }\n        }\n      })\n      .catch((e) => {\n        // alert(e)\n        // console.log({ response: e.response })\n        setDisp(2);\n        if (e) {\n          console.log({ resp: e.response.data });\n          if (e.response.data.error.message !== null) {\n            notyf.error(`${e.response.data.error.message}`);\n          } else {\n            notyf.error('Error');\n          }\n        } else {\n          notyf.error('Error');\n        }\n      });\n  }, []);\n  return (\n    <>\n      {(() => {\n        if (disp === 1) {\n          return (\n            <>\n              <Editor\n                mode=\"edit\"\n                user_id={user_id}\n                notyf={notyf}\n                auth_token={auth_token}\n                articleData={data}\n              />\n            </>\n          );\n        }\n        if (disp === 2) {\n          return (\n            <>\n              <Page404 />\n            </>\n          );\n        }\n      })()}\n    </>\n  );\n};\n\nexport default EditArticle;\n"],"sourceRoot":""}