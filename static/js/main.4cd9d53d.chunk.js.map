{"version":3,"sources":["lib/crypto.lib.js","lib/secureStorage.lib.js","contexts/storage_context.js","contexts/theme_context.js","lib/notification.js","contexts/auth_context.js","lib/env.lib.js","pages/splashScreen.js","components/breakpoint/breakpoint.js","components/dropdown.js","serviceWorker.js","components/Toolbar/toolbar.js","components/Toolbar/bottomNav.js","lib/colors.lib.js","components/loader.js","components/card2.js","pages/home.js","components/userDisplay.js","pages/404.js","pages/userDashboard.js","pages/settings.js","pages/login.js","pages/register.js","pages/status.js","components/readMode.js","pages/readArticles.js","lib/editorjs.dependencies.js","pages/editorjs.js","pages/newArticle.js","pages/editArticle.js","App.js","index.js","logo.svg","images/i1.png","images/i2.png"],"names":["generateNewKeys","newKeys","NaCl","box","keyPair","publicKey","util","encodeBase64","privateKey","secretKey","encryptMessage","messageWithoutNonce","theirPublicKey","mySecretKey","theirPublicKeyUint8Array","decodeBase64","mySecretKeyUint8Array","nonce","randomBytes","message","decodeUTF8","fullMessage","Uint8Array","length","set","decryptMessage","messageWithNonce","messageWithNonceAsUint8Array","slice","decrypted","open","encodeUTF8","NaClUtil","SecureStorage","security_keys","public_key","private_key","storage","window","localStorage","getItem","undefined","JSON","parse","replace","e","console","log","index_key","s","data","Date","now","enc","stringify","setItem","StorageContext","createContext","StorageContextProvider","props","k","keys","state","randomizeKeys","bind","setKeys","getStorage","clearStorage","this","setState","clear","Provider","value","children","Component","ThemeContext","setInitialThemeState","theme","r","toString","document","body","setAttribute","React","lazy","ThemeContextProvider","isLightTheme","light","styles","background","dark","toggleTheme","isLightTheme_before","saveTheme","notif","Notyf","x","y","types","type","icon","className","tagName","text","AuthContext","AuthContextProvider","auth","Auth","AuthState","auth_token","user_id","user_email","user_email_verified","user_fullname","user_username","user_dp","user_bio","user_account_type","user_gender","setInitialAuthState","isLoggedIn","setAuth","removeAuth","saveAuth","success","token","user","email","email_verified","details","fullname","username","profile_image_link","account_type","gender","removeItem","Axios","post","xAuthToken","then","response","notyf","catch","error","context","h","contextType","withSplashScreen","WrappedComponent","loading","setTimeout","classList","remove","err","src","logo","alt","style","width","height","Breakpoint","w","screen","availWidth","useState","show","setShow","contentShowCompute","p","c","xs","sm","md","lg","xl","useEffect","res","propsShow","DropdownItem","to","paddingLeft","fontSize","paddingRight","onClick","Dropdown","setOpen","containerClassName","onMouseLeave","autoClose","addActiveClass","title","menuClassName","menuStyle","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ThemeToggler","f","useContext","WbSunnyOutlined","Brightness2Outlined","Brightness2Rounded","NavbarComponent","Background","setBackground","Variant","setVariant","openSideBar","setOpenSideBar","collapseNav","handleLogout","handleNavOpener","resetCache","ready","unregister","reload","nav_classes","side_nav_classes","Close","href","MenuRounded","id","placeholder","aria-label","SearchRounded","InfoRounded","AccountCircle","ArrowDropDownCircleRounded","SettingsRounded","ExitToAppRounded","BottomNav","activeTab","setActiveTab","getIcon","HomeRounded","CreateRounded","PersonRounded","handleClick","n","hexStrColor","str","i","toUpperCase","substring","intToRGB","hash","charCodeAt","hashCode","padZero","len","Array","join","invertColor","hex","bw","indexOf","Error","parseInt","g","b","Loader","setLikeDisp","liked","solidUp","faThumbsUp","setBookmarkDisp","bookmarked","solidBookmark","faBookmark","UserDetails","setLiked","setBookmarked","modalDisp","setModalDisp","p_from_card","bookmarkDisp","likeDisp","imageLink","backgroundColor","name","faCommentAlt","faEllipsisV","transform","innerWidth","article_id","DeleteRounded","Modal","onHide","Header","closeButton","Title","Body","Footer","hideCard","Card","hideMode","setHideMode","display","bannerLink","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","borderRadius","color","cursor","ts","dt","day","getDay","date","getDate","month","getMonth","year","getFullYear","formatDate","time","parser","content","split","paddingBottom","tags","map","inv","Home","key","setKey","featured","setFeatured","latest","setLatest","popular","setPopular","f_ui","l_ui","p_ui","get","i_t","tag","push","created_on","preview","article_banner","author_details","position","Tabs","variant","activeKey","transition","onSelect","Tab","eventKey","UserDisplay","dp","mode","bio","Page404","data-text","ControlledTabs","articles","setArticles","a_ui","params","Dashboard","setUsername","setId","setDp","setName","setBio","loaded","setLoaded","ProfileSettings","u_dp","u_name","u_bio","u_gender","setGender","handleChange","target","handleUpload","f_i","createElement","click","addEventListener","files","FormData","append","doc","file_name","removeEventListener","Toggle","Menu","Item","onChange","disabled","cols","rows","defaultChecked","AccountSettings","SecuritySettings","LockRounded","Settings","setdisplay","showMenu","setshowMenu","useToggle","setUseToggle","faCaretDown","faCaretRight","showToggle","Nav","defaultActiveKey","Link","Login","setEmail","password","setPassword","v","img1","marginTop","marginRight","paddingTop","marginLeft","aria-describedby","for","preventDefault","test","validateEmail","Register","inviteMode","setInviteMode","setInviteCode","confpassword","setConfpass","required","Status","uiStatus","setUiStatus","ver","setVer","build_ver","setBuildVer","build_time","setBuildTime","codeStyle","api","version","build","toISOString","disp","d","getStatusDisp","ReadOnly","getKey","blocks","block","element","level","items","item","scrolling","margin","frameborder","allowfullscreen","embed","caption","defaultValue","code","file","url","class","dx","meta","image","style_s","rel","link","description","matches","getHostnameFromRegex","classes","checked","renderBlock","ArticleReader","setData","setDisp","banner","setBanner","articleId","resp","overflowY","overflow","justifyContent","alignItems","borderBottomRightRadius","borderBottomLeftRadius","maxHeight","EDITOR_JS_TOOLS","Embed","inlineToolbar","services","youtube","coub","imgur","twitch","gfycat","yandex","codepen","vimeo","twitter","regex","embedUrl","html","ids","instagram","table","Table","paragraph","Paragraph","list","List","warning","Warning","shortcut","titlePlaceholder","messagePlaceholder","Code","linkTool","LinkTool","endpoint","Image","uploader","uploadByFile","header","quote","Quote","marker","Marker","checklist","CheckList","delimiter","Delimiter","inlineCode","InlineCode","simpleImage","SimpleImage","getRandomBanner","min","max","Math","round","random","Editor","instanceRef","useRef","data_editor","setMode","setApi","setTitle","setPreview","redir","setRedirect","setReady","setArticleId","article_tags","setTags","tagsInput","setTagsInput","handleClose","handleSave","a","current","save","savedData","handleBannerClick","articleData","t","size","val","trim","toLowerCase","concat","splice","handleTagRemoval","Button","_data_editor","instance","tools","NewArticle","EditArticle","author_id","userDash","charAt","pageType","u","AppInnerContainer","exact","path","component","ReactDOM","render","StrictMode","getElementById","URL","process","origin","fetch","headers","contentType","status","checkValidServiceWorker","module","exports"],"mappings":"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","file":"static/js/main.4cd9d53d.chunk.js","sourcesContent":["import NaCl from \"tweetnacl\"\r\n// const secureRandom = require('secure-random');\r\n// import * as secureRandom from 'secure-random';\r\n// let NaClutil = require(\"tweetnacl-util\");\r\n// const { performance } = require('perf_hooks');\r\n\r\nimport NaClUtil from \"tweetnacl-util\"\r\nNaCl.util = NaClUtil;\r\n\r\nexport function generateNewKeys() {\r\n    const newKeys = NaCl.box.keyPair();\r\n\r\n    // always store ase base64 string\r\n    const publicKey = NaCl.util.encodeBase64(newKeys.publicKey);\r\n    const privateKey = NaCl.util.encodeBase64(newKeys.secretKey);\r\n\r\n    return { publicKey, privateKey };\r\n}\r\n\r\nexport function encryptMessage(messageWithoutNonce, theirPublicKey, mySecretKey) {\r\n    const theirPublicKeyUint8Array = NaCl.util.decodeBase64(theirPublicKey);\r\n    const mySecretKeyUint8Array = NaCl.util.decodeBase64(mySecretKey);\r\n\r\n    const nonce = newNonce();\r\n    const message = NaCl.util.decodeUTF8(messageWithoutNonce);\r\n    const box = NaCl.box(\r\n        message,\r\n        nonce,\r\n        theirPublicKeyUint8Array,\r\n        mySecretKeyUint8Array);\r\n\r\n    const fullMessage = new Uint8Array(nonce.length + box.length);\r\n    fullMessage.set(nonce);\r\n    fullMessage.set(message, nonce.length);\r\n\r\n    const base64FullMessage = NaCl.util.encodeBase64(fullMessage);\r\n    return base64FullMessage;\r\n}\r\n\r\nexport function decryptMessage(messageWithNonce, theirPublicKey, mySecretKey) {\r\n    const theirPublicKeyUint8Array = NaCl.util.decodeBase64(theirPublicKey);\r\n    const mySecretKeyUint8Array = NaCl.util.decodeBase64(mySecretKey);\r\n    const messageWithNonceAsUint8Array = NaCl.util.decodeBase64(messageWithNonce);\r\n    const nonce = messageWithNonceAsUint8Array.slice(0, 24);\r\n    const message = messageWithNonceAsUint8Array.slice(24, messageWithNonce.length);\r\n\r\n    const box = NaCl.box(message, nonce, theirPublicKeyUint8Array, mySecretKeyUint8Array);\r\n    const decrypted = NaCl.box.open(box, nonce, theirPublicKeyUint8Array, mySecretKeyUint8Array);\r\n\r\n    const base64DecryptedMessage = NaCl.util.encodeUTF8(decrypted);\r\n    return base64DecryptedMessage;\r\n}\r\n\r\nexport function newNonce() {\r\n    // optionally takes a second parameter\r\n    // { type: 'Type' }\r\n    // where 'Type' could be any of\r\n    // - 'Array'\r\n    // - 'Buffer'\r\n    // - 'Uint8Array'\r\n    return NaCl.randomBytes(24)\r\n}\r\n\r\n// let start = performance.now()\r\n// let key1 = generateNewKeys();\r\n// let key2 = generateNewKeys();\r\n// let t1 = performance.now() - start\r\n\r\n// let message =\r\n// {\r\n//     \"yo1\": \"this is a custom message\",\r\n//     \"yo2\": \"this is a custom message\",\r\n//     \"yo3\": \"this is a custom message\",\r\n//     \"yo4\": \"this is a custom message\",\r\n//     \"yo5\": \"this is a custom message\",\r\n//     \"yo6\": \"this is a custom message\",\r\n//     \"yo7\": \"this is a custom message\",\r\n//     \"yo8\": \"this is a custom message\",\r\n//     \"yo9\": \"this is a custom message\",\r\n//     \"yo0\": \"this is a custom message\",\r\n//     \"yo\": \"this is a custom message\",\r\n// };\r\n\r\n\r\n// let encrypted = encryptMessage(JSON.stringify(message), key2.publicKey, key1.privateKey)\r\n// let decrypted = decryptMessage(encrypted, key2.publicKey, key1.privateKey)\r\n// let t2 = performance.now() - start\r\n\r\n// console.log({ key1, key2 })\r\n// console.log({\r\n//     message,\r\n//     encrypted,\r\n//     decrypted,\r\n//     json_obj: JSON.parse(decrypted.replace(/\\u0000/g, \"\")),\r\n//     start,\r\n//     t1,\r\n//     t2,\r\n// })","import { encryptMessage, decryptMessage } from \"./crypto.lib\"\r\nclass SecureStorage {\r\n    static getStorage(security_keys) {\r\n        const { public_key, private_key } = security_keys\r\n        let storage = window.localStorage.getItem(\"storage\")\r\n        let s = {}\r\n        if (storage === undefined || storage === null || storage === \"\") {\r\n            return null\r\n        } else {\r\n            try {\r\n                // eslint-disable-next-line no-control-regex\r\n                s = JSON.parse(decryptMessage(storage, public_key, private_key).replace(/\\u0000/g, \"\"))\r\n                return s\r\n            } catch (e) {\r\n                console.log(e)\r\n                return null\r\n            }\r\n        }\r\n    }\r\n\r\n    static getItem(index_key, security_keys) {\r\n        const { public_key, private_key } = security_keys\r\n        let storage = window.localStorage.getItem(\"storage\")\r\n        let s = {}\r\n        if (storage === undefined || storage === null || storage === \"\") {\r\n            return null\r\n        } else {\r\n            try {\r\n                \r\n                // eslint-disable-next-line no-control-regex\r\n                s = JSON.parse(decryptMessage(storage, public_key, private_key).replace(/\\u0000/g, \"\"))\r\n                return (s[index_key]) ? s[index_key] : null\r\n            } catch (e) {\r\n                console.log(e)\r\n                return null\r\n            }\r\n        }\r\n    }\r\n\r\n    static setItem(index_key, data, security_keys) {\r\n        const { public_key, private_key } = security_keys\r\n        let storage = window.localStorage.getItem(\"storage\")\r\n        let s = {}\r\n        if (storage === undefined || storage === null || storage === \"\") {\r\n            if (index_key != null && index_key != undefined && index_key && data) {\r\n                s[index_key] = data\r\n                s[\"storage_update\"] = Date.now()\r\n            }\r\n        } else {\r\n            try {\r\n                // eslint-disable-next-line no-control-regex\r\n                s = JSON.parse(decryptMessage(storage, public_key, private_key).replace(/\\u0000/g, \"\"))\r\n                s[index_key] = data\r\n                s[\"storage_update\"] = Date.now()\r\n            } catch (e) {\r\n                s[index_key] = data\r\n                s[\"storage_update\"] = Date.now()\r\n                console.log(e)\r\n            }\r\n        }\r\n        let enc = encryptMessage(JSON.stringify(s), public_key, private_key)\r\n        window.localStorage.setItem(\"storage\", enc)\r\n    }\r\n\r\n    static clear(security_keys) {\r\n        const { public_key, private_key } = security_keys\r\n\r\n        let s = {}\r\n\r\n        s[\"storage_update\"] = Date.now()\r\n\r\n        let enc = encryptMessage(JSON.stringify(s), public_key, private_key)\r\n        window.localStorage.setItem(\"storage\", enc)\r\n\r\n    }\r\n}\r\n\r\nexport default SecureStorage\r\n\r\n// let key1 = generateNewKeys();\r\n// let keys = { public_key: key1.publicKey, private_key: key1.privateKey }\r\n// SecureStorage.setItem(\"key1\", \"some data\", keys)\r\n// SecureStorage.setItem(\"key2\", { d1: 123 }, keys)\r\n// let k1 = SecureStorage.getItem(\"key1\", keys)\r\n// let k2 = SecureStorage.getItem(\"key2\", keys)\r\n// let k3 = SecureStorage.getItem(\"key3\", keys)\r\n// let s1 = SecureStorage.getStorage(keys)\r\n// SecureStorage.clear(keys)\r\n// let s2 = SecureStorage.getStorage(keys)\r\n// console.log({ keys, k1, k2, k3, s1, s2 })","import React, { Component, createContext } from 'react';\r\nimport SecureStorage from \"../lib/secureStorage.lib\"\r\nimport { generateNewKeys } from \"../lib/crypto.lib\"\r\nexport const StorageContext = createContext();\r\n\r\nclass StorageContextProvider extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let k = generateNewKeys()\r\n        let keys = {\r\n            private_key: k.privateKey,\r\n            public_key: k.publicKey\r\n        }\r\n\r\n        this.state = {\r\n            keys\r\n        }\r\n\r\n        console.log(this.state.keys, keys)\r\n        this.randomizeKeys = this.randomizeKeys.bind(this)\r\n        this.setKeys = this.setKeys.bind(this)\r\n        this.getItem = this.getItem.bind(this)\r\n        this.setItem = this.setItem.bind(this)\r\n        this.getStorage = this.getStorage.bind(this)\r\n        this.clearStorage = this.clearStorage.bind(this)\r\n    }\r\n\r\n    setKeys(keys) {\r\n        this.setState({\r\n            keys: {\r\n                public_key: keys.public_key,\r\n                private_key: keys.private_key\r\n            }\r\n        })\r\n    }\r\n\r\n    randomizeKeys() {\r\n        let keys = generateNewKeys()\r\n        this.setState({\r\n            keys: {\r\n                public_key: keys.public_key,\r\n                private_key: keys.private_key\r\n            }\r\n        })\r\n\r\n        return this.state.keys\r\n    }\r\n\r\n    getItem(index_key) {\r\n        return SecureStorage.getItem(index_key, this.state.keys)\r\n    }\r\n\r\n    setItem(index_key, data) {\r\n        return SecureStorage.setItem(index_key, data, this.state.keys)\r\n    }\r\n\r\n    getStorage() {\r\n        return SecureStorage.getStorage(this.state.keys)\r\n    }\r\n\r\n    clearStorage() {\r\n        SecureStorage.clear(this.state.keys)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <StorageContext.Provider value={{\r\n                ...this.state,\r\n                setKeys: this.setKeys,\r\n                randomizeKeys: this.randomizeKeys,\r\n                getItem: this.getItem,\r\n                setItem: this.setItem,\r\n                getStorage: this.getStorage,\r\n                clearStorage: this.clearStorage\r\n            }}>\r\n                {this.props.children}\r\n            </StorageContext.Provider>\r\n        );\r\n    }\r\n}\r\n\r\nexport default StorageContextProvider;\r\n","import React, { Component, createContext } from 'react';\r\n\r\nexport const ThemeContext = createContext();\r\n\r\nfunction setInitialThemeState() {\r\n    let theme = window.localStorage.getItem(\"theme\")\r\n    console.log({ theme })\r\n    let r = 0;\r\n\r\n    if (theme == null || theme === undefined) {\r\n        console.log(\"theme is not defined\")\r\n        window.localStorage.setItem(\"theme\", r.toString())\r\n        // r = \"light\";\r\n        // r = 0;\r\n    } else {\r\n        if (theme === \"1\") {\r\n            // r = \"light\";\r\n            r = 1;\r\n        } else if (theme === \"2\") {\r\n            // r = \"dark\";\r\n            r = 2;\r\n        } else {\r\n            // r = \"cloudy\";\r\n            r = 0;\r\n        }\r\n    }\r\n\r\n    if (r === 1) {\r\n        document.body.setAttribute(\"class\", \"t1\")\r\n        React.lazy(() => import(\"../themes/scss/light.scss\"))\r\n    } else if (r === 2) {\r\n        document.body.setAttribute(\"class\", \"t2\")\r\n    } else {\r\n        document.body.setAttribute(\"class\", \"t3\")\r\n        React.lazy(() => import(\"../themes/scss/dark_blue.scss\"))\r\n    }\r\n\r\n    console.log({ r })\r\n    return r;\r\n}\r\nclass ThemeContextProvider extends Component {\r\n\r\n    // componentDidMount() {\r\n\r\n    //     document.getElementById(\"root\").style.display = \"block\";\r\n    //     document.getElementById(\"loader\").style.display = \"none\";\r\n    //     document.title = \"Loaded\";\r\n\r\n    // }\r\n    state = {\r\n        isLightTheme: setInitialThemeState(),\r\n        light: {\r\n            styles: {\r\n                //    from css\r\n                background: \"#fff\"\r\n            }\r\n        },\r\n        dark: {\r\n            styles: {\r\n                //    from css\r\n                background: \"#000\"\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.saveTheme()\r\n    }\r\n\r\n    saveTheme() {\r\n        if (this.state.isLightTheme === 1) {\r\n            // light\r\n            document.body.setAttribute(\"class\", \"t1\")\r\n            window.localStorage.setItem(\"theme\", \"1\")\r\n        } else if (this.state.isLightTheme === 2) {\r\n            // dark\r\n            document.body.setAttribute(\"class\", \"t2\")\r\n            window.localStorage.setItem(\"theme\", \"2\")\r\n        } else if (this.state.isLightTheme === 0) {\r\n            // cloudy 0\r\n            document.body.setAttribute(\"class\", \"t3\")\r\n            window.localStorage.setItem(\"theme\", \"0\")\r\n        }\r\n\r\n        console.log({ isLightTheme: this.state.isLightTheme })\r\n    }\r\n\r\n    toggleTheme = () => {\r\n        console.log(\"Theme changed\")\r\n\r\n        console.log({ isLightTheme_before: this.state.isLightTheme })\r\n\r\n        this.setState({\r\n            isLightTheme: (this.state.isLightTheme + 1) % 2\r\n            // isLightTheme: (this.state.isLightTheme === \"light\") ? \"dark\" : \"light\"\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <ThemeContext.Provider value={{ ...this.state, toggleTheme: this.toggleTheme }}>\r\n                {this.props.children}\r\n            </ThemeContext.Provider>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ThemeContextProvider;\r\n","import { Notyf } from 'notyf';\r\n\r\nconst notif = new Notyf({\r\n    x: 'right',\r\n    y: 'bottom',\r\n    types: [\r\n        {\r\n            type: 'warn',\r\n            background: 'orange',\r\n            icon: {\r\n                className: 'material-icons',\r\n                tagName: 'i',\r\n                text: 'warning'\r\n            }\r\n        },\r\n        // {\r\n        //     type: 'error',\r\n        //     background: 'indianred',\r\n        //     duration: 2000,\r\n        //     dismissible: true\r\n        // }\r\n    ]\r\n});\r\n\r\nexport default notif;","import React, { Component, createContext, useContext } from 'react';\r\n\r\nimport Axios from \"axios\"\r\nimport { getApiLink } from \"../lib/env.lib\"\r\n\r\nimport notyf from \"../lib/notification\";\r\nimport { StorageContext } from \"./storage_context\"\r\n\r\nexport const AuthContext = createContext();\r\n\r\nconst cachify = true\r\nfunction setInitialAuthState() {\r\n\r\n    let auth = null\r\n\r\n    if (cachify) {\r\n        auth = window.localStorage.getItem(\"auth\");\r\n    }\r\n    let Auth;\r\n\r\n    // let { setItem, getItem, getStorage } = useContext(StorageContext)\r\n    if (auth == null || auth === undefined || auth === \"\") {\r\n        Auth = {\r\n            AuthState: false,\r\n            auth_token: \"\",\r\n            user_id: \"\",\r\n            user_email: \"\",\r\n            user_email_verified: 0,\r\n            user_fullname: \"\",\r\n            user_username: \"\",\r\n            user_dp: \"\",\r\n            user_bio: \"\",\r\n            user_account_type: 0,\r\n            user_gender: -1,\r\n        }\r\n    } else {\r\n        auth = JSON.parse(auth)\r\n        Auth = {\r\n            AuthState: (auth.auth_token === \"\") ? false : true,\r\n            auth_token: auth.auth_token,\r\n            user_id: auth.user_id,\r\n            user_email: auth.user_email,\r\n            user_email_verified: auth.user_email_verified,\r\n            user_fullname: auth.user_fullname,\r\n            user_username: auth.user_username,\r\n            user_dp: auth.user_dp,\r\n            user_bio: auth.user_bio,\r\n            user_account_type: auth.user_account_type,\r\n            user_gender: auth.user_gender,\r\n        }\r\n    }\r\n\r\n    if (cachify) {\r\n        window.localStorage.setItem(\"auth\", JSON.stringify(Auth))\r\n        window.localStorage.setItem(\"cache-update\", Date.now())\r\n    }\r\n    // setItem()\r\n    return Auth\r\n}\r\n\r\nclass AuthContextProvider extends Component {\r\n\r\n    static contextType = StorageContext\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        let auth = setInitialAuthState()\r\n\r\n        this.state = {\r\n            isLoggedIn: auth.AuthState,\r\n            auth_token: auth.auth_token,\r\n            user_id: auth.user_id,\r\n            user_email: auth.user_email,\r\n            user_email_verified: auth.user_email_verified,\r\n            user_fullname: auth.user_fullname,\r\n            user_username: auth.user_username,\r\n            user_dp: auth.user_dp,\r\n            user_bio: auth.user_bio,\r\n            user_account_type: auth.user_account_type,\r\n            user_gender: auth.user_gender,\r\n        }\r\n\r\n        this.setAuth = this.setAuth.bind(this)\r\n        this.removeAuth = this.removeAuth.bind(this)\r\n\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.saveAuth()\r\n    }\r\n\r\n    saveAuth() {\r\n        // save to secure storage\r\n        let Auth = {\r\n            AuthState: this.state.AuthState,\r\n            auth_token: this.state.auth_token,\r\n            user_id: this.state.user_id,\r\n            user_email: this.state.user_email,\r\n            user_email_verified: this.state.user_email_verified,\r\n            user_fullname: this.state.user_fullname,\r\n            user_username: this.state.user_username,\r\n            user_dp: this.state.user_dp,\r\n            user_bio: this.state.user_bio,\r\n            user_account_type: this.state.user_account_type,\r\n            user_gender: this.state.user_gender,\r\n        }\r\n\r\n        if (cachify) {\r\n            window.localStorage.setItem(\"auth\", JSON.stringify(Auth))\r\n            window.localStorage.setItem(\"cache-update\", Date.now())\r\n        }\r\n    }\r\n\r\n    setAuth(data) {\r\n        if (data.success) {\r\n            this.setState({\r\n                isLoggedIn: true,\r\n                auth_token: data.message.token,\r\n                user_id: data.message.user.user_id,\r\n                user_email: data.message.user.email,\r\n                user_email_verified: data.message.user.email_verified,\r\n                user_fullname: data.message.user.details.fullname,\r\n                user_username: data.message.user.details.username,\r\n                user_dp: data.message.user.details.profile_image_link,\r\n                user_bio: data.message.user.details.user_bio,\r\n                user_account_type: data.message.user.details.account_type,\r\n                user_gender: data.message.user.details.gender,\r\n            })\r\n        }\r\n    }\r\n\r\n    removeAuth() {\r\n        window.localStorage.removeItem(\"auth\")\r\n\r\n        if (cachify) {\r\n            window.localStorage.setItem(\"cache-update\", Date.now())\r\n        }\r\n\r\n        this.setState({\r\n            isLoggedIn: false,\r\n            auth_token: \"\",\r\n            user_id: \"\",\r\n            user_email: \"\",\r\n            user_email_verified: 0,\r\n            user_fullname: \"\",\r\n            user_username: \"\",\r\n            user_dp: \"\",\r\n            user_bio: \"\",\r\n            user_account_type: 0,\r\n            user_gender: -1,\r\n        })\r\n\r\n        Axios.post(`${getApiLink()}/logout`, {\r\n            xAuthToken: this.state.auth_token\r\n        }).then((response) => {\r\n            notyf.success(\"Logged out successfully!\")\r\n        }).catch((e) => {\r\n            notyf.error(\"Error occured while logging out \" + e.response)\r\n        })\r\n\r\n    }\r\n    render() {\r\n\r\n        let { keys, setItem, getItem, getStorage } = this.context\r\n        // let key2 = randomizeKeys()\r\n        // console.log(keys)\r\n        // secureStorage.genera\r\n        // let k = generateNewKeys()\r\n        console.log({ keys })\r\n        // let keys = {\r\n        //     private_key: k.privateKey,\r\n        //     public_key: k.publicKey\r\n        // }\r\n        setItem(\"hey\", \"1234 this is new with context\")\r\n        let h = getItem(\"hey\")\r\n        let s = getStorage()\r\n\r\n        console.log({ h, s })\r\n\r\n        return (\r\n            <AuthContext.Provider value={{ ...this.state, setAuth: this.setAuth, removeAuth: this.removeAuth }}>\r\n                {this.props.children}\r\n            </AuthContext.Provider>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AuthContextProvider;\r\n","const ProductionApiLink = \"https://lattice-api-eu.herokuapp.com\"\r\nconst DevelopmentApiLink = \"http://localhost:5000\"\r\n// const DevelopmentApiLink = \"http://192.168.0.6:5000\"\r\n\r\nexport const getEnv = () => {\r\n    let env;\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\r\n        env = \"DEVELOPMENT\"\r\n    } else {\r\n        env = \"PRODUCTION\"\r\n    }\r\n\r\n    return env\r\n}\r\nexport const getApiLink = () => {\r\n    let link;\r\n    if (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\r\n        // dev mode\r\n        link = DevelopmentApiLink\r\n        // link = ProductionApiLink\r\n\r\n    } else {\r\n        // production mode   \r\n        link = ProductionApiLink\r\n    }\r\n    return link\r\n}\r\n\r\nexport default {\r\n    getEnv,\r\n    getApiLink\r\n}","import React, { Component } from 'react';\r\n\r\nimport logo from \"../logo.svg\"\r\nfunction LoadingMessage() {\r\n    return (\r\n        <div className=\"splash-screen\">\r\n            {/* <div > */}\r\n            <img src={logo} alt=\"\" style={{\r\n                width: \"300px\",\r\n                height: \"300px\"\r\n            }} />\r\n            {/* </div> */}\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction withSplashScreen(WrappedComponent) {\r\n    return class extends Component {\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                loading: true,\r\n            };\r\n        }\r\n\r\n        async componentDidMount() {\r\n            try {\r\n                setTimeout(() => {\r\n                    document.body.classList.remove(\"loading\")\r\n                    this.setState({\r\n                        loading: false,\r\n                    });\r\n                }, 1500)\r\n            } catch (err) {\r\n                console.log(err);\r\n                this.setState({\r\n                    loading: false,\r\n                });\r\n            }\r\n        }\r\n\r\n        render() {\r\n            // while checking user session, show \"loading\" message\r\n            if (this.state.loading) return LoadingMessage();\r\n\r\n            // otherwise, show the desired route\r\n            return <WrappedComponent {...this.props} />;\r\n        }\r\n    };\r\n}\r\n\r\nexport default withSplashScreen;","/* eslint-disable no-restricted-globals */\r\nimport React, { useEffect, useState } from 'react';\r\n\r\nconst Breakpoint = (props) => {\r\n\r\n    let w = screen.availWidth;\r\n\r\n    const [show, setShow] = useState(true)\r\n\r\n    function contentShowCompute(p) {\r\n        let c;\r\n        // console.log({ width: w })\r\n        let { xs, sm, md, lg, xl } = p\r\n\r\n        if (w < 576) {\r\n            if (xs === true) {\r\n                c = true;\r\n            } else {\r\n                c = false;\r\n            }\r\n        } else if (w >= 576 && w < 768) {\r\n            if (sm === true) {\r\n                c = true;\r\n            } else {\r\n                c = false;\r\n            }\r\n        } else if (w >= 768 && w < 992) {\r\n            if (md === true) {\r\n                c = true;\r\n            } else {\r\n                c = false;\r\n            }\r\n        } else if (w >= 992 && w < 1200) {\r\n            if (lg === true) {\r\n                c = true;\r\n            } else {\r\n                c = false;\r\n            }\r\n        } else if (w >= 1200) {\r\n            if (xl === true) {\r\n                c = true;\r\n            } else {\r\n                c = false;\r\n            }\r\n        }\r\n\r\n        return c;\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        console.log(\"c after compute\", contentShowCompute(props))\r\n        setShow(contentShowCompute(props))\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[])\r\n\r\n    console.log({ props })\r\n    console.log(\"render breakpoint\")\r\n    console.log({\r\n        res: show || !(!props.show),\r\n        show, propsShow: props.show\r\n    })\r\n    return (\r\n        <>\r\n            {(show || !(!props.show)) ? props.children : (<></>)}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Breakpoint;","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Dropdown = (props) => {\r\n    const [open, setOpen] = useState(false)\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className={`cs-dropdown-container ${(props.containerClassName) ? props.containerClassName : \"\"}`}\r\n                onMouseLeave={() => { if (props.autoClose) setOpen(false) }}\r\n            // onTouchEnd={() => { if (props.autoClose) setOpen(false) }}\r\n            >\r\n\r\n                <div className={`cs-dropdown-btn ${(props.className) ? props.className : \"\"} ${(props.addActiveClass && open) ? \"active\" : \"\"}`} onClick={() => { setOpen(!open) }} style={{\r\n                    ...props.style\r\n                }}>\r\n                    {props.title}\r\n                </div>\r\n\r\n                {(() => {\r\n                    if (open && props.children) {\r\n                        return (\r\n                            <>\r\n                                <div className={`cs-dropdown-menu ${(props.menuClassName) ? props.menuClassName : \"\"}`} onClick={() => { setOpen(!open) }} style={{\r\n                                    ...props.menuStyle\r\n                                }}>\r\n                                    {props.children}\r\n                                </div>\r\n                            </>\r\n                        )\r\n                    }\r\n                })()}\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport const DropdownItem = (props) => {\r\n\r\n    if (props.type == \"link\") {\r\n        return (\r\n            <>\r\n                <Link to={props.to} className=\"unset\">\r\n                    <div className={`cs-dropdown-item ${(props.className) ? props.className : \"\"}`} style={{\r\n                        ...props.style,\r\n                        paddingLeft: (props.icon) ? \"2px\" : \"18px\"\r\n                    }}\r\n                    >\r\n                        <span style={{ fontSize: \"16px\", paddingRight: (props.icon) ? \"6px\" : \"0px\" }}>\r\n                            {props.icon}\r\n                        </span>\r\n                        {props.children}\r\n                    </div>\r\n                </Link>\r\n            </>\r\n        );\r\n    } else {\r\n        return (\r\n            <>\r\n                <div className={`cs-dropdown-item ${(props.className) ? props.className : \"\"}`} style={{\r\n                    ...props.style,\r\n                    paddingLeft: (props.icon) ? \"2px\" : \"18px\"\r\n                }}\r\n                    onClick={(props.onClick) ? props.onClick : null}\r\n                >\r\n                    <span style={{ fontSize: \"16px\", paddingRight: (props.icon) ? \"6px\" : \"0px\" }}>\r\n                        {props.icon}\r\n                    </span>\r\n                    {props.children}\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Dropdown;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, { useContext, useState, useEffect } from 'react';\r\nimport { Link, NavLink } from \"react-router-dom\";\r\n\r\nimport { ThemeContext } from \"../../contexts/theme_context\"\r\n\r\nimport { AuthContext } from \"../../contexts/auth_context\"\r\n\r\nimport DropdownMenu, { DropdownItem } from '../dropdown'\r\n\r\nimport Breakpoint from \"../breakpoint/breakpoint\"\r\n\r\nimport {\r\n    Close,\r\n    WbSunnyOutlined,\r\n    MenuRounded,\r\n    AccountCircle,\r\n    InfoRounded,\r\n    ArrowDropDownCircleRounded,\r\n    // ArrowDropDownRounded,\r\n    ExitToAppRounded,\r\n    SettingsRounded,\r\n    Brightness2Rounded,\r\n    Brightness2Outlined,\r\n    SearchRounded\r\n} from '@material-ui/icons';\r\nimport * as serviceWorker from \"../../serviceWorker\"\r\n\r\nconst ThemeToggler = (props) => {\r\n    const { toggleTheme, isLightTheme } = useContext(ThemeContext);\r\n\r\n    let f;\r\n    if (isLightTheme === 1) {\r\n        f = (<WbSunnyOutlined className=\"sun-icon\" />)\r\n    } else if (isLightTheme === 2) {\r\n        f = (<Brightness2Outlined className=\"moon-icon\" />)\r\n    } else {\r\n        f = (<Brightness2Rounded className=\"dark-moon-icon\" />)\r\n    }\r\n\r\n    let c = props.className + \" nav-link \"\r\n    return (\r\n        <div className={c} onClick={toggleTheme} style={{ width: \"1rem\" }}>{f}</div>\r\n    );\r\n}\r\n\r\n\r\nconst NavbarComponent = (props) => {\r\n\r\n    const [Background, setBackground] = useState(\"light\")\r\n    const [Variant, setVariant] = useState(\"light\")\r\n    const [openSideBar, setOpenSideBar] = useState(0)\r\n    let { isLightTheme } = useContext(ThemeContext)\r\n\r\n    const { setAuth, removeAuth, isLoggedIn, user_dp, user_fullname, user_username } = useContext(AuthContext);\r\n\r\n    useEffect(() => {\r\n        if (isLightTheme === 1) {\r\n            // setBackground(\"light\");\r\n            setBackground(null);\r\n            setVariant(\"light\");\r\n        } else {\r\n            setBackground(\"dark\");\r\n            setVariant(\"dark\");\r\n        }\r\n    }, [isLightTheme])\r\n\r\n    function collapseNav() {\r\n\r\n        // let q = document.querySelectorAll(\"button.navbar-toggler\")\r\n\r\n        // if (q !== []) {\r\n        //     q[0].click()\r\n        // }\r\n    }\r\n\r\n    function handleLogout() {\r\n        removeAuth();\r\n        setOpenSideBar((openSideBar + 1) % 2);\r\n    }\r\n\r\n    // function handleLogin() {\r\n    //     setAuth();\r\n    //     setOpenSideBar((openSideBar + 1) % 2);\r\n    // }\r\n\r\n\r\n    function handleNavOpener() {\r\n        setOpenSideBar((openSideBar + 1) % 2);\r\n        // alert(\"clicked\")\r\n    }\r\n\r\n    function resetCache() {\r\n        serviceWorker.unregister()\r\n        window.localStorage.clear()\r\n        window.location.reload()\r\n        handleNavOpener()\r\n    }\r\n\r\n    let nav_classes = `navbar navbar-expand-md bg-${Background} navbar-${Variant}`\r\n\r\n    let side_nav_classes = `side-nav ${(openSideBar === 1) ? \"opened\" : \"\"}`;\r\n    return (\r\n        <>\r\n\r\n            <Breakpoint xs sm>\r\n                <div className=\"nav-side-container noselect\">\r\n                    <div className={side_nav_classes} >\r\n                        <div className=\"contents\">\r\n\r\n                            <div className=\"content-block\">\r\n\r\n                                {/* <hr className=\"light\"/> */}\r\n\r\n                                <div className=\"n-u-container pb-4 pl-4 pr-4 pt-3\">\r\n\r\n                                    {(() => {\r\n                                        if (isLoggedIn) {\r\n                                            return (\r\n                                                <>\r\n                                                    <div className=\"m-0 mr-auto p-0\" onClick={handleNavOpener}>\r\n                                                        <Close style={{ fontSize: \"40px\" }} />\r\n                                                    </div>\r\n\r\n                                                    <img className=\"n-avatar-image mt-0 ml-auto mr-auto mb-0\"\r\n                                                        src={user_dp} alt=\"user\" />\r\n\r\n                                                    <span className=\"n-name\">\r\n                                                        {user_fullname}\r\n                                                    </span>\r\n\r\n                                                    <span className=\"n-username\">\r\n                                                        @{user_username}\r\n                                                    </span>\r\n\r\n                                                    <span className=\"n-items\">\r\n                                                        <Link className=\"l-item\" onClick={handleNavOpener} to=\"/\">Home</Link>\r\n                                                        <Link className=\"l-item\" onClick={handleNavOpener} to=\"/about\">About</Link>\r\n                                                        <Link className=\"l-item\" onClick={handleNavOpener} to=\"/dashboard\">Dashboard</Link>\r\n                                                        <Link className=\"l-item\" onClick={handleNavOpener} to=\"/\">Bookmarks</Link>\r\n                                                    </span>\r\n\r\n                                                    <span className=\"n-items n-b-items mt-auto\">\r\n                                                        <a href=\"#unregister\" className=\"l-item\" onClick={resetCache}>Reset App Cache</a>\r\n                                                        <Link className=\"l-item\" onClick={handleNavOpener} to=\"/settings\">Settings</Link>\r\n                                                        <a href=\"#logout\" className=\"logout\" onClick={handleLogout}>Logout</a>\r\n                                                    </span>\r\n                                                </>\r\n                                            )\r\n                                        } else {\r\n                                            return (\r\n                                                <>\r\n                                                    <span className=\"n-items\">\r\n                                                        <Link className=\"l-item\" onClick={handleNavOpener} to=\"/\">Home</Link>\r\n                                                        <Link className=\"l-item\" onClick={handleNavOpener} to=\"/about\">About</Link>\r\n                                                        <Link className=\"l-item\" onClick={handleNavOpener} to=\"/login\">Login</Link>\r\n                                                    </span>\r\n                                                </>\r\n                                            )\r\n                                        }\r\n                                    })()}\r\n\r\n\r\n\r\n                                </div>\r\n\r\n\r\n\r\n\r\n\r\n                            </div>\r\n\r\n\r\n                            {/* </span> */}\r\n\r\n\r\n                        </div>\r\n\r\n                        <div className=\"closer\"\r\n                            onClick={handleNavOpener}>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </Breakpoint>\r\n            <div className=\"nav-custom-container fixed-top\">\r\n                <div className=\"container\">\r\n                    <nav className={nav_classes}>\r\n\r\n                        <Link className=\"navbar-brand ml-auto mr-auto hide-xs hide-sm show-md\" to=\"/\">Lattice</Link>\r\n\r\n                        <span className=\"show-xs show-sm hide-md\" style={{ width: \"60px\" }}>\r\n                            <span className=\"cs-nav-toggler collapsed\" onClick={handleNavOpener}>\r\n                                {/* <span className=\"icon-bar top-bar\"></span>\r\n                            <span className=\"icon-bar middle-bar\"></span>\r\n                            <span className=\"icon-bar bottom-bar\"></span> */}\r\n\r\n                                <MenuRounded style={{ fontSize: \"30px\" }} />\r\n                            </span>\r\n                        </span>\r\n                        <Link className=\"navbar-brand text-center show-xs show-sm hide-md ml-auto mr-auto p-0\" to=\"/\">Lattice</Link>\r\n                        <span className=\"show-xs show-sm hide-md\" style={{ width: \"60px\" }}>\r\n                            <ThemeToggler className=\"show-xs show-sm hide-md ml-auto p-0\" />\r\n                        </span>\r\n\r\n                        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n\r\n                            <form className=\"form-inline search-box text-center m-auto\">\r\n                                <input className=\"form-control\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\" />\r\n                                <SearchRounded className=\"search-icon\" />\r\n\r\n                                {/* <div className=\"search-result\">\r\n                                one <br/>\r\n                                two <br/>\r\n                                three <br/>\r\n                                four <br/>\r\n                                five <br/>\r\n                                ewdofewpf\r\n                                deiwon\r\n                                dekwnodewn\r\n                            </div> */}\r\n                            </form>\r\n\r\n                            <ul className=\"navbar-nav ml-auto\">\r\n\r\n\r\n                                <ThemeToggler className=\"hide-xs hide-sm show-md mr-4\" />\r\n\r\n\r\n                                <NavLink onClick={collapseNav} to=\"/about\" className=\"nav-link nav-btn\">\r\n                                    <InfoRounded />\r\n                                </NavLink>\r\n\r\n\r\n                                {(() => {\r\n                                    if (isLoggedIn) {\r\n                                        return (\r\n                                            <>\r\n                                                <NavLink onClick={collapseNav} to=\"/dashboard\" className=\"nav-link nav-btn\"><AccountCircle /></NavLink>\r\n\r\n                                                {/* <Nav.Link href=\"/newArticle\">Edit</Nav.Link> */}\r\n\r\n                                                {/* <NavLink onClick={collapseNav} to=\"/newArticle\" className=\"nav-link nav-btn\">Create</NavLink> */}\r\n\r\n                                                {/* <NavDropdown title={<ArrowDropDownRounded />} id=\"collasible-nav-dropdown\" className=\"nav-btn\">\r\n\r\n                                                    <NavDropdown.Item onClick={collapseNav} as={Link} to=\"/settings\">Settings</NavDropdown.Item>\r\n                                                    <NavDropdown.Item onClick={collapseNav} as={Link} to=\"/login\">Login</NavDropdown.Item>\r\n                                                    <NavDropdown.Item onClick={collapseNav} as={Link} to=\"/register\">Register</NavDropdown.Item>\r\n\r\n                                                    <NavDropdown.Divider />\r\n                                                    <NavDropdown.Item href=\"#logout\" onClick={handleLogout}>Logout</NavDropdown.Item>\r\n                                                </NavDropdown> */}\r\n\r\n                                                <DropdownMenu\r\n                                                    title={<ArrowDropDownCircleRounded style={{\r\n                                                        // fontSize: \"24px\"\r\n                                                    }} />}\r\n                                                    autoClose={true}\r\n                                                    addActiveClass={true}\r\n                                                    className=\"nav-btn dropdown-toggle nav-link last\"\r\n                                                    containerClassName=\"nav-btnx dropdown nav-item last\">\r\n                                                    <DropdownItem\r\n                                                        type=\"link\"\r\n                                                        to=\"/settings\"\r\n                                                        icon={<SettingsRounded />}>\r\n                                                        Settings\r\n                                                    </DropdownItem>\r\n                                                    <hr className=\"light p-0 m-0\" />\r\n                                                    <DropdownItem className=\"logout\" icon={<ExitToAppRounded />} onClick={handleLogout}>\r\n                                                        Logout\r\n                                                    </DropdownItem>\r\n                                                </DropdownMenu>\r\n                                            </>\r\n                                        )\r\n                                    } else {\r\n                                        return (\r\n                                            <NavLink onClick={collapseNav} to=\"/login\" className=\"nav-link\">Login</NavLink>\r\n                                        )\r\n                                    }\r\n                                })()}\r\n\r\n                            </ul>\r\n\r\n                        </div>\r\n                    </nav>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default NavbarComponent;","import React, { useContext } from 'react';\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { HomeRounded, SearchRounded, CreateRounded, PersonRounded } from '@material-ui/icons';\r\n\r\nimport { AuthContext } from \"../../contexts/auth_context\"\r\nconst BottomNav = (props) => {\r\n\r\n    const { isLoggedIn } = useContext(AuthContext)\r\n    const [activeTab, setActiveTab] = React.useState(1)\r\n\r\n    function getIcon(type = 1) {\r\n        if (type === 1) {\r\n            if (activeTab === 1) {\r\n                return (<HomeRounded className=\"bt-nav__icon active\" />)\r\n            } else {\r\n                // return (<HomeOutlined className=\"bt-nav__icon\" />)\r\n                return (<HomeRounded className=\"bt-nav__icon\" />)\r\n            }\r\n        } else if (type === 2) {\r\n            if (activeTab === 2) {\r\n                return (<SearchRounded className=\"bt-nav__icon active\" />)\r\n            } else {\r\n                // return (<SearchOutlined className=\"bt-nav__icon\" />)\r\n                return (<SearchRounded className=\"bt-nav__icon\" />)\r\n            }\r\n        } else if (type === 3) {\r\n            if (activeTab === 3) {\r\n                return (<CreateRounded className=\"bt-nav__icon active\" />)\r\n            } else {\r\n                // return (<CreateOutlined className=\"bt-nav__icon\" />)\r\n                return (<CreateRounded className=\"bt-nav__icon\" />)\r\n\r\n            }\r\n        } else if (type === 4) {\r\n            if (activeTab === 4) {\r\n                return (<PersonRounded className=\"bt-nav__icon active\" />)\r\n            } else {\r\n                // return (<PersonOutlined className=\"bt-nav__icon\" />)\r\n                return (<PersonRounded className=\"bt-nav__icon\" />)\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    function handleClick(n) {\r\n        setActiveTab(n)\r\n    }\r\n\r\n    if (isLoggedIn) {\r\n        return (\r\n            <>\r\n                <div className=\"bt-nav\">\r\n                    <div className=\"bt-tabs\">\r\n                        <ul className=\"bt-nav__ul ml-4 mr-4\">\r\n                            <li className=\"bt-nav__item\" onClick={() => { handleClick(1) }}>\r\n                                <Link to=\"/\" className=\"bt-nav__link\">\r\n                                    {getIcon(1)}\r\n                                </Link>\r\n                            </li>\r\n                            {/* <li className=\"bt-nav__item\" onClick={() => { handleClick(2) }}>\r\n                            <a href=\"#search\" className=\"bt-nav__link\">\r\n                                {getIcon(2)}\r\n                            </a>\r\n                        </li> */}\r\n                            <li className=\"bt-nav__item\" onClick={() => { handleClick(3) }}>\r\n                                <Link to=\"/newArticle\" className=\"bt-nav__link\">\r\n                                    {getIcon(3)}\r\n                                </Link>\r\n                            </li>\r\n                            <li className=\"bt-nav__item\" onClick={() => { handleClick(4) }}>\r\n                                <Link to=\"/dashboard\" className=\"bt-nav__link\">\r\n                                    {getIcon(4)}\r\n                                </Link>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    } else {\r\n        return (<>\r\n\r\n            <div className=\"bt-nav\">\r\n                <div className=\"bt-tabs\">\r\n                    <ul className=\"bt-nav__ul ml-4 mr-4\">\r\n                        <li className=\"bt-nav__item\" onClick={() => { handleClick(1) }}>\r\n                            <Link to=\"/\" className=\"bt-nav__link\">\r\n                                {getIcon(1)}\r\n                            </Link>\r\n                        </li>\r\n                        {/* <li className=\"bt-nav__item\" onClick={() => { handleClick(2) }}>\r\n                            <a href=\"#search\" className=\"bt-nav__link\">\r\n                                {getIcon(2)}\r\n                            </a>\r\n                        </li> */}\r\n                        {/* <li className=\"bt-nav__item\" onClick={() => { handleClick(3) }}>\r\n                            <Link to=\"/edit\" className=\"bt-nav__link\">\r\n                                {getIcon(3)}\r\n                            </Link>\r\n                        </li> */}\r\n                        <li className=\"bt-nav__item\" onClick={() => { handleClick(4) }}>\r\n                            <Link to=\"/login\" className=\"bt-nav__link\">\r\n                                {getIcon(4)}\r\n                            </Link>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </>)\r\n    }\r\n}\r\n\r\nexport default BottomNav;","function hashCode(str) {\r\n    var hash = 0;\r\n    for (var i = 0; i < str.length; i++) {\r\n        hash = str.charCodeAt(i) + ((hash << 5) - hash);\r\n    }\r\n    return hash;\r\n}\r\n\r\nfunction intToRGB(i) {\r\n    var c = (i & 0x00FFFFFF)\r\n        .toString(16)\r\n        .toUpperCase();\r\n\r\n    return \"00000\".substring(0, 6 - c.length) + c;\r\n}\r\n\r\nexport function hexStrColor(str) {\r\n    return intToRGB(hashCode(str))\r\n}\r\n\r\nfunction padZero(str, len) {\r\n    len = len || 2;\r\n    var zeros = new Array(len).join('0');\r\n    return (zeros + str).slice(-len);\r\n}\r\n\r\nexport function invertColor(hex, bw) {\r\n    if (hex.indexOf('#') === 0) {\r\n        hex = hex.slice(1);\r\n    }\r\n    if (hex.length === 3) {\r\n        hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\r\n    }\r\n    if (hex.length !== 6) {\r\n        throw new Error('Invalid HEX color.');\r\n    }\r\n    var r = parseInt(hex.slice(0, 2), 16),\r\n        g = parseInt(hex.slice(2, 4), 16),\r\n        b = parseInt(hex.slice(4, 6), 16);\r\n    if (bw) {\r\n        return (r * 0.299 + g * 0.587 + b * 0.114) > 186\r\n            ? '#000000'\r\n            : '#FFFFFF';\r\n    }\r\n    // invert color components\r\n    r = (255 - r).toString(16);\r\n    g = (255 - g).toString(16);\r\n    b = (255 - b).toString(16);\r\n    // pad each with zeros and return\r\n    return \"#\" + padZero(r) + padZero(g) + padZero(b);\r\n}","import React, { Component } from 'react';\r\n\r\nclass Loader extends Component {\r\n    render() {\r\n        return (\r\n            <>\r\n                <div className=\"dots noselect\">\r\n                    <div className=\"dot\">.</div>\r\n                    <div className=\"dot\">.</div>\r\n                    <div className=\"dot\">.</div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Loader;","import React, { useState, useContext } from 'react';\r\n\r\nimport { Link } from \"react-router-dom\"\r\n\r\nimport parser from 'html-react-parser';\r\nimport { Modal } from \"react-bootstrap\"\r\nimport Axios from 'axios'\r\n\r\nimport DropdownMenu, { DropdownItem } from './dropdown'\r\nimport { hexStrColor, invertColor } from \"../lib/colors.lib\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCommentAlt, faBookmark, faThumbsUp } from '@fortawesome/free-regular-svg-icons'\r\nimport { faEllipsisV, faThumbsUp as solidUp, faBookmark as solidBookmark } from '@fortawesome/free-solid-svg-icons'\r\nimport Loader from \"./loader\"\r\nimport { CreateRounded, DeleteRounded } from '@material-ui/icons'\r\nimport { AuthContext } from \"../contexts/auth_context\"\r\n\r\nfunction formatDate(ts) {\r\n\r\n    let dt = new Date(ts)\r\n    let day = dt.getDay()\r\n    let date = dt.getDate()\r\n    let month = dt.getMonth()\r\n    let year = dt.getFullYear()\r\n    let week = [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"]\r\n    let mon = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Now\", \"Dec\"]\r\n    return `${week[day - 1]} ${date} ${mon[month]} ${year}`\r\n\r\n}\r\nfunction setLikeDisp(liked) {\r\n    let likeDisp\r\n    if (!liked) {\r\n        likeDisp = (\r\n            <FontAwesomeIcon icon={faThumbsUp} className=\"action-icon\" />\r\n        )\r\n    } else {\r\n        likeDisp = (\r\n            <FontAwesomeIcon icon={solidUp} className=\"action-icon\" />\r\n        )\r\n    }\r\n\r\n    return likeDisp;\r\n}\r\n\r\nfunction setBookmarkDisp(bookmarked) {\r\n    let bkDisp\r\n    if (!bookmarked) {\r\n        bkDisp = (\r\n            <FontAwesomeIcon icon={faBookmark} className=\"action-icon\" />\r\n        )\r\n    } else {\r\n        bkDisp = (\r\n            <FontAwesomeIcon icon={solidBookmark} className=\"action-icon\" />\r\n        )\r\n    }\r\n\r\n    return bkDisp;\r\n}\r\n\r\nfunction deleteArticle(id) {\r\n    if (id) {\r\n        Axios.delete(`/delete/${id}`)\r\n    }\r\n}\r\n\r\nconst UserDetails = (props) => {\r\n\r\n    const [liked, setLiked] = useState(false)\r\n    const [bookmarked, setBookmarked] = useState(false)\r\n\r\n    const [modalDisp, setModalDisp] = useState(false)\r\n\r\n    console.log({ p_from_card: props })\r\n    let bookmarkDisp = setBookmarkDisp(bookmarked)\r\n    let likeDisp = setLikeDisp(liked)\r\n\r\n    function handleLike(e) {\r\n        setLiked(!liked)\r\n        likeDisp = setLikeDisp(liked)\r\n    }\r\n\r\n    function handleBookmark(e) {\r\n        setBookmarked(!bookmarked)\r\n        bookmarkDisp = setBookmarkDisp(bookmarked)\r\n    }\r\n\r\n    const { user_id } = useContext(AuthContext)\r\n\r\n    return (\r\n        <>\r\n            <div className=\"user-info-c pl-2 pr-2 pb-2\">\r\n                <div className=\"user-image-c hide-xs_x show-sm_x pr-2\">\r\n                    <Link className=\"unset\" to={`/@${props.data.user.username}`}>\r\n                        <img src={props.data.user.imageLink} alt=\"user\" className=\"user-image\" style={{\r\n                            backgroundColor: \"white\"\r\n                        }} />\r\n                    </Link>\r\n                </div>\r\n\r\n                <div className=\"user-info\">\r\n                    <Link className=\"unset\" to={`/@${props.data.user.username}`}>\r\n                        <span className=\"u-name d-block\">{props.data.user.name}</span>\r\n                        <span className=\"u-username d-inline-block\">@{props.data.user.username}</span>\r\n                    </Link>\r\n                </div>\r\n\r\n                <div className=\"ml-auto u-actions\">\r\n                    <span className=\"action-icon-c text-center_x\" onClick={handleBookmark}>\r\n                        {bookmarkDisp}\r\n                    </span>\r\n                    <span className=\"action-icon-c text-center_x\">\r\n                        <FontAwesomeIcon icon={faCommentAlt} className=\"action-icon\" />\r\n                    </span>\r\n                    <span className=\"action-icon-c text-center_x mr-4x\" onClick={handleLike}>\r\n                        {likeDisp}\r\n                    </span>\r\n                    {/* <span className=\"action-icon-c text-center_x\">\r\n                        <FontAwesomeIcon icon={faEllipsisV} className=\"action-icon\" />\r\n                    </span> */}\r\n\r\n                    <DropdownMenu title={<FontAwesomeIcon icon={faEllipsisV} className=\"\" />}\r\n                        autoClose={true}\r\n                        className=\"drop-btn dropdown-toggle_x btn\"\r\n                        containerClassName=\"action-icon-c last mr-4\"\r\n                        menuStyle={{\r\n                            transform: (window.innerWidth <= 576) ? \"translateX(-60%)\" : null\r\n                        }}>\r\n                        {/* <DropdownItem type=\"link\" to=\"/settings\">\r\n                            Settings\r\n                        </DropdownItem> */}\r\n                        {/* <hr className=\"light p-0 m-0\" /> */}\r\n\r\n\r\n                        {(() => {\r\n                            if (user_id === props.data.user.user_id) {\r\n                                return (<>\r\n                                    <DropdownItem icon={<CreateRounded />} type=\"link\" to={`/edit/${props.data.article_id}`}>Edit</DropdownItem>\r\n                                    <hr className=\"light p-0 m-0\" />\r\n                                    <DropdownItem className=\"logout\" icon={<DeleteRounded />} onClick={(() => { setModalDisp(true) })}>Delete</DropdownItem>                                </>)\r\n                            } else {\r\n                                return (<>\r\n                                    <DropdownItem>Report</DropdownItem>\r\n                                </>)\r\n                            }\r\n                        })()}\r\n\r\n                    </DropdownMenu>\r\n\r\n\r\n                    <Modal show={modalDisp}\r\n                        onHide={(() => { setModalDisp(false) })}\r\n                    >\r\n                        <Modal.Header closeButton>\r\n                            <Modal.Title>Delete Article</Modal.Title>\r\n                        </Modal.Header>\r\n                        <Modal.Body>\r\n                            Are you sure you want to delete this article?\r\n                            <br />\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            <button className=\"btn btn-secondary\" onClick={(() => { setModalDisp(false) })}>Close</button>\r\n                            <button className=\"btn btn-danger\" onClick={props.hideCard}>Delete</button>\r\n                        </Modal.Footer>\r\n                    </Modal>\r\n                    {/* <Dropdown className=\"action-icon-c last text-center_x mr-4\">\r\n                        <Dropdown.Toggle className=\"drop-btn\" variant=\"info\">\r\n                            <FontAwesomeIcon icon={faEllipsisV} className=\"action-icon nav-btn\" />\r\n                        </Dropdown.Toggle>\r\n\r\n                        <Dropdown.Menu>\r\n                            {(() => {\r\n                                if (user_id == props.data.user.user_id) {\r\n                                    return (<>\r\n                                        <Dropdown.Item as={Link} to={`/edit/${props.data.article_id}`}>Edit</Dropdown.Item>\r\n                                    </>)\r\n                                } else {\r\n                                    return (<>\r\n                                        <Dropdown.Item eventKey=\"2\">Report</Dropdown.Item>\r\n                                    </>)\r\n                                }\r\n                            })()}\r\n\r\n\r\n                        </Dropdown.Menu>\r\n                    </Dropdown> */}\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nconst Card = (props) => {\r\n    console.log(props)\r\n\r\n    const [hideMode, setHideMode] = useState(false)\r\n    function trimContent(c) {\r\n        if (c) {\r\n            if (c.length > 200)\r\n                c = c.slice(0, 200) + \"...\"\r\n        } else {\r\n            return \"\"\r\n        }\r\n\r\n        return c\r\n    }\r\n\r\n    let style = {\r\n        display: \"none\"\r\n    }\r\n    // };\r\n    if (props.data) {\r\n        if (props.data.bannerLink != null && props.data.bannerLink !== undefined && props.data.bannerLink !== \"NA\") {\r\n            style = {\r\n                backgroundImage: `url(${props.data.bannerLink})`,\r\n                backgroundSize: \"cover\",\r\n                // backgroundPosition: \"50% 50%\",\r\n                // backgroundOverflow: \"visible\",\r\n                backgroundPosition: \"50% 50%\",\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    if (props.type >= 1 && props.type <= 3) {\r\n        if (hideMode) {\r\n            return (<></>)\r\n        } else\r\n            return (\r\n                <>\r\n                    <div className=\"custom-card2 mb-3\">\r\n\r\n                        <div className=\"row\">\r\n\r\n                            <div className={(() => {\r\n                                if (props.data.bannerLink !== undefined && props.data.bannerLink !== null && props.data.bannerLink !== \"NA\")\r\n                                    return \"col-md-3 col-lg-3\"\r\n                                else\r\n                                    return \"col-md-12\"\r\n                            })()}>\r\n                                <div className=\"img hide-xs hide-sm show-md\" style={{\r\n                                    ...style,\r\n                                    backgroundRepeat: \"no-repeat\",\r\n                                    height: \"100%\",\r\n                                    borderRadius: \"18px\"\r\n                                }}></div>\r\n                            </div>\r\n\r\n                            <div className={(() => {\r\n                                if (props.data.bannerLink !== undefined && props.data.bannerLink !== null && props.data.bannerLink !== \"NA\")\r\n                                    return \"col-md-9 col-lg-9\"\r\n                                else\r\n                                    return \"col-md-12\"\r\n                            })()}\r\n                            >\r\n                                <Link className=\"unset\" style={{\r\n                                    color: \"unset\"\r\n                                }} to={`/read/${props.data.article_id}`}>\r\n\r\n                                    <div style={{\r\n                                        cursor: \"pointer\"\r\n                                    }}\r\n                                        className={(() => {\r\n                                            if (props.data.bannerLink !== undefined && props.data.bannerLink !== null && props.data.bannerLink !== \"NA\")\r\n                                                return \"pl-2\"\r\n                                            else\r\n                                                return \"pl-2 pr-2\"\r\n                                        })()}>\r\n                                        <div className=\"article-row\">\r\n                                            <div className=\"pt-3 pb-2\">\r\n                                                <div className=\"article-date\">\r\n                                                    {formatDate(props.data.time)}\r\n                                                </div>\r\n                                                <div className=\"article-title\">\r\n                                                    {parser(props.data.title)}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"article-image show-xs show-sm hide-md\">\r\n                                                <div className=\"img\" style={style}></div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n\r\n                                        <div className=\"article-content pb-2\" style={{\r\n                                            // maxHeight: \"80px\",\r\n                                            // overflow: \"hidden\",\r\n                                            // textOverflow: \"ellipsis\"\r\n                                        }}>\r\n                                            {trimContent(parser(props.data.content.split(\"<br>\").join(\"\")))}\r\n                                        </div>\r\n                                    </div>\r\n                                </Link>\r\n\r\n                                <div className=\"tags pl-2\" style={{\r\n                                    paddingBottom: \"3px\",\r\n                                }}>\r\n                                    {(() => {\r\n                                        if (props.data.tags)\r\n                                            return props.data.tags.map(i => {\r\n                                                let h = hexStrColor(i)\r\n                                                let inv = invertColor(h, true)\r\n\r\n                                                return (<>\r\n                                                    <div className=\"tag d-inline-block noselect\" style={{\r\n                                                        backgroundColor: \"#\" + h,\r\n                                                        color: inv,\r\n                                                        cursor: \"pointer\"\r\n                                                    }}>\r\n                                                        #{i}\r\n                                                    </div>\r\n                                                </>)\r\n                                            })\r\n                                    })()}\r\n\r\n                                </div>\r\n                                {/* <div className={(() => {\r\n                                if (props.data.bannerLink !== undefined && props.data.bannerLink !== null && props.data.bannerLink !== \"NA\")\r\n                                    return \"pl-2 pb-2\"\r\n                                else\r\n                                    return \"pl-4 pr-42 pb-2\"\r\n                            })()}> */}\r\n                                <UserDetails data={props.data} hideCard={(() => { setHideMode(true) })} />\r\n                                {/* </div> */}\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n                    {/* <hr className=\"light\" /> */}\r\n                </>\r\n            );\r\n    } else if (props.type == -1) {\r\n        return (<></>)\r\n    } else {\r\n        return (\r\n            <>\r\n                <div className=\"card-loader w-100 text-center\">\r\n                    <br />\r\n                    <br />\r\n                    <br />\r\n                    <Loader />\r\n                    <br />\r\n                    <br />\r\n                    <br />\r\n                </div>\r\n                {/* <hr className=\"light\"/> */}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Card;","import React, { useState, useEffect } from 'react';\r\n// import Card from \"../components/card\"\r\nimport Card from \"../components/card2\"\r\n\r\nimport { Tabs, Tab } from \"react-bootstrap\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\nimport { getApiLink } from \"../lib/env.lib\"\r\nimport Axios from \"axios\"\r\n\r\nconst Home = () => {\r\n    const [key, setKey] = useState('tab2');\r\n    const [featured, setFeatured] = useState([<Card className=\"mb-4 pl-0\" type={4} />])\r\n    const [latest, setLatest] = useState([<Card className=\"mb-4 pl-0\" type={4} />])\r\n    const [popular, setPopular] = useState([<Card className=\"mb-4 pl-0\" type={4} />])\r\n\r\n    useEffect(() => {\r\n        // setFeatured([])\r\n\r\n        document.title = \"Home - Lattice\"\r\n        let f_ui = []\r\n        let l_ui = []\r\n        let p_ui = []\r\n        Axios.get(`${getApiLink()}/api/v1/getFeaturedArticle`).then((response) => {\r\n            if (response.data.success) {\r\n                let k = 0\r\n                response.data.message.data.map((i) => {\r\n                    let tags = i.tags.map(i_t => i_t.tag)\r\n\r\n                    f_ui.push(\r\n                        <Card className=\"mb-4\" type={1} data={{\r\n                            key: k++,\r\n                            article_id: i.article_id,\r\n                            title: i.title,\r\n                            time: i.created_on,\r\n                            content: i.preview,\r\n                            bannerLink: i.article_banner,\r\n                            tags: tags,\r\n                            user: {\r\n                                user_id: i.author_details.user_id,\r\n                                imageLink: i.author_details.profile_image_link,\r\n                                name: i.author_details.fullname,\r\n                                username: i.author_details.username\r\n                            }\r\n                        }} />\r\n                    )\r\n                })\r\n\r\n                setFeatured(f_ui)\r\n            }\r\n        }).catch((e) => {\r\n            console.log(e)\r\n        })\r\n\r\n        Axios.get(`${getApiLink()}/api/v1/getPopularArticle`).then((response) => {\r\n            if (response.data.success) {\r\n                let k = 0\r\n                response.data.message.data.map((i) => {\r\n                    let tags = i.tags.map(i_t => i_t.tag)\r\n\r\n                    console.log({ i })\r\n                    p_ui.push(\r\n                        <Card className=\"mb-4\" type={1} data={{\r\n                            key: k++,\r\n                            article_id: i.article_id,\r\n                            title: i.title,\r\n                            time: i.created_on,\r\n                            content: i.preview,\r\n                            bannerLink: i.article_banner,\r\n                            tags: tags,\r\n                            user: {\r\n                                user_id: i.author_details.user_id,\r\n                                imageLink: i.author_details.profile_image_link,\r\n                                name: i.author_details.fullname,\r\n                                username: i.author_details.username\r\n                            }\r\n                        }} />\r\n                    )\r\n                })\r\n\r\n                setPopular(p_ui)\r\n            }\r\n        }).catch((e) => {\r\n            console.log(e)\r\n        })\r\n\r\n        Axios.get(`${getApiLink()}/api/v1/getLatestArticle`).then((response) => {\r\n            if (response.data.success) {\r\n                let k = 0\r\n                response.data.message.data.map((i) => {\r\n                    let tags = i.tags.map(i_t => i_t.tag)\r\n\r\n                    l_ui.push(\r\n                        <Card className=\"mb-4\" type={1} data={{\r\n                            key: k++,\r\n                            article_id: i.article_id,\r\n                            title: i.title,\r\n                            time: i.created_on,\r\n                            content: i.preview,\r\n                            bannerLink: i.article_banner,\r\n                            tags: tags,\r\n                            user: {\r\n                                user_id: i.author_details.user_id,\r\n                                imageLink: i.author_details.profile_image_link,\r\n                                name: i.author_details.fullname,\r\n                                username: i.author_details.username\r\n                            }\r\n                        }} />\r\n                    )\r\n                })\r\n\r\n                setLatest(l_ui)\r\n            }\r\n        }).catch((e) => {\r\n            console.log(e)\r\n        })\r\n\r\n    }, [])\r\n    return (<>\r\n\r\n        <div className=\"container-xl\">\r\n            <div className=\"mt-2\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-lg-2 hide-sm hide-xs show-md\">\r\n                        <div className=\"mt-3\" style={{\r\n                            position: \"fixed\"\r\n                        }}>\r\n                            <Link to=\"/newArticle\" className=\"btn btn-primary\">New post</Link><br />\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-lg-8\">\r\n                        <div className=\"container-lg\">\r\n                            <div className=\"tab-section mt-3\">\r\n                                <Tabs\r\n                                    variant=\"tabs\"\r\n                                    id=\"controlled-tab-example\"\r\n                                    activeKey={key}\r\n                                    transition={false}\r\n                                    onSelect={(k) => setKey(k)}\r\n                                >\r\n                                    <Tab eventKey=\"tab1\" title=\"Featured\">\r\n                                        {featured}\r\n                                    </Tab>\r\n                                    <Tab eventKey=\"tab2\" title=\"Latest\">\r\n                                        {latest}\r\n                                    </Tab>\r\n                                    <Tab eventKey=\"tab3\" title=\"Popular\">\r\n                                        {popular}\r\n                                    </Tab>\r\n                                    <Tab eventKey=\"tab4\" title=\"Recommended\">\r\n                                        {latest}\r\n                                    </Tab>\r\n                                </Tabs>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <br />\r\n                        <br />\r\n                        <br />\r\n                    </div>\r\n                    <div className=\"col-lg-2 hide-sm hide-xs show-md\">\r\n                        <div className=\"mt-3\" style={{\r\n                            position: \"fixed\"\r\n                        }}>\r\n                            {/* <Link to=\"/newArticle\" className=\"btn btn-primary\">New post</Link><br /> */}\r\n                            {/* <div className=\"custom-card2 pt-4 pb-4 pl-3 pr-3 w-100\">\r\n                                <h5>Trending communities</h5>\r\n                                <hr className=\"light\" />\r\n                                1. hey\r\n                            </div> */}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n\r\n    </>);\r\n}\r\n\r\nexport default Home;","import React from 'react'\r\nimport { Link } from \"react-router-dom\"\r\nconst UserDisplay = (props) => {\r\n    return (\r\n        <>\r\n            <div className=\"jumbotron p-0 pb-2 pt-3 user-jumbotron\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-3 text-center pb-0 pt-0 \">\r\n                        <img className=\"avatar_image mt-0 mb-0\"\r\n                            src={props.dp} alt=\"user\" />\r\n                    </div>\r\n                    <div className=\"col-md-9\">\r\n                        <h1 className=\"display-5 name mt-2\">{props.name}\r\n                            {(() => {\r\n                                if (props.mode == \"self\") {\r\n                                    return (\r\n                                        <>\r\n                                            <Link to=\"/settings\" className=\"btn btn-info btn-sm ml-3\" type=\"button\">Edit profile</Link>\r\n                                        </>\r\n                                    )\r\n                                } else\r\n                                    return (<></>)\r\n                            })()}\r\n                        </h1>\r\n                        <h5 className=\"display-5 username\">{props.username}</h5>\r\n                        <p className=\"lead text-left user-bio\">{props.bio}</p>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </>);\r\n}\r\n\r\nexport default UserDisplay;","import React, { useEffect } from 'react';\r\n\r\nimport { Link } from \"react-router-dom\"\r\n\r\nconst Page404 = () => {\r\n\r\n    useEffect(()=>{\r\n        document.title = \"Page not found - Lattice\"\r\n    },[])\r\n    return (\r\n        <div className=\"container\">\r\n            <div id=\"page-top\">\r\n                <div id=\"wrapper\">\r\n                    <div className=\"d-flex flex-column\" id=\"content-wrapper\">\r\n                        <div id=\"content card-sh\">\r\n                            <div className=\"container-fluid\">\r\n                                <div className=\"text-center mt-5\">\r\n                                    <div className=\"error mx-auto\" data-text=\"404\"\r\n                                        style={{ width: \"297px\", fontSize: \"147px\" }}>\r\n                                        <p className=\"m-0\">404</p>\r\n                                    </div>\r\n                                    <p className=\"text-dark mb-5 lead\" style={{ color: \"rgb(255,255,255)\", fontSize: \"50px\" }}>Page\r\n                                    Not Found\r\n                                    </p>\r\n                                    {/* color: \"rgb(203,207,238)\"  */}\r\n                                    <p style={{}}>There seems to be a glitch in the Matrix</p>\r\n                                    <Link\r\n                                        to=\"/\" style={{}}> Back to Home</Link>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Page404;","import React, { useEffect, useState, useContext } from 'react';\r\nimport Card from \"../components/card2\"\r\n\r\nimport { Tabs, Tab } from \"react-bootstrap\"\r\nimport User from \"../components/userDisplay\"\r\nimport Page404 from \"../pages/404\"\r\nimport { AuthContext } from \"../contexts/auth_context\"\r\n\r\nimport Axios from \"axios\"\r\nimport { getApiLink } from \"../lib/env.lib\"\r\n\r\nfunction ControlledTabs(props) {\r\n    const [key, setKey] = useState('article');\r\n    const [articles, setArticles] = useState(<Card className=\"mb-4 pl-0\" type={4} />)\r\n    useEffect(() => {\r\n        let a_ui = []\r\n        // alert(props.username)\r\n        Axios.get(`${getApiLink()}/api/v1/getArticlesByUsername/${props.username}`, {\r\n            params: {\r\n                \"username\": props.username\r\n            }\r\n        }).then((response) => {\r\n            if (response.data.success) {\r\n                let k = 0\r\n                response.data.message.data.map((i) => {\r\n                    let tags = i.tags.map(i_t => i_t.tag)\r\n                    a_ui.push(\r\n                        <Card className=\"mb-4\" type={1} data={{\r\n                            key: k++,\r\n                            article_id: i.article_id,\r\n                            title: i.title,\r\n                            time: i.created_on,\r\n                            content: i.preview,\r\n                            bannerLink: i.article_banner,\r\n                            tags,\r\n                            user: {\r\n                                user_id: response.data.message.user.user_id,\r\n                                imageLink: response.data.message.user.profile_image_link,\r\n                                name: response.data.message.user.fullname,\r\n                                username: response.data.message.user.username\r\n                            }\r\n                        }} />\r\n                    )\r\n                })\r\n\r\n                setArticles(a_ui)\r\n            }\r\n        }).catch((e) => {\r\n            console.log(e)\r\n            if (e.response.data.error.message != null) {\r\n                console.log(\"\" + e.response.data.error.message)\r\n            }\r\n        })\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n\r\n\r\n            <div className=\"tab-section\">\r\n                <Tabs\r\n                    variant=\"tabs\"\r\n                    id=\"controlled-tab-example\"\r\n                    activeKey={key}\r\n                    transition={false}\r\n                    onSelect={(k) => setKey(k)}\r\n                >\r\n                    <Tab eventKey=\"article\" title={(props.mode == \"self\") ? \"Your\\xa0Articles\" : \"Users\\xa0Articles\"}>\r\n                        {articles}\r\n                    </Tab>\r\n                    {/* <Tab eventKey=\"profile\" title=\"Profile\">\r\n                        2\r\n                                </Tab>\r\n                    <Tab eventKey=\"contact\" title=\"Contact\">\r\n                        3</Tab>\r\n\r\n                    <Tab eventKey=\"contacts\" title=\"third\">\r\n                        4</Tab> */}\r\n                </Tabs>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\n\r\nfunction Dashboard(props) {\r\n\r\n    const { user_id, user_dp, user_fullname, user_username, user_bio } = useContext(AuthContext);\r\n\r\n    const [username, setUsername] = useState(\"\")\r\n    const [id, setId] = useState(\"\")\r\n    const [dp, setDp] = useState(\"\")\r\n    const [name, setName] = useState(\"\")\r\n    const [bio, setBio] = useState(\"\")\r\n\r\n\r\n    const [loaded, setLoaded] = useState(0)\r\n    useEffect(() => {\r\n        if (props.mode == \"self\") {\r\n            setUsername(user_username)\r\n            setId(user_id)\r\n            setDp(user_dp)\r\n            setName(user_fullname)\r\n            setBio(user_bio)\r\n            setLoaded(1)\r\n        } else {\r\n            setUsername(props.username)\r\n\r\n            Axios.get(`${getApiLink()}/api/v1/getUserByUsername/${props.username}`).then((response) => {\r\n                if (response.data.success) {\r\n                    setId(response.data.message.data.user_id)\r\n                    setDp(response.data.message.data.details.profile_image_link)\r\n                    setName(response.data.message.data.details.fullname)\r\n                    setBio(response.data.message.data.details.user_bio)\r\n                    setLoaded(1)\r\n                } else {\r\n                    setLoaded(2)\r\n                }\r\n            }).catch((e) => {\r\n                console.log(e)\r\n                if (e.response.data.error.message != null) {\r\n                    console.log(\"User loading: \" + e.response.data.error.message)\r\n                }\r\n\r\n                setLoaded(2)\r\n            })\r\n        }\r\n\r\n\r\n    }, [])\r\n    return (\r\n        <>\r\n            <br />\r\n            <br />\r\n\r\n            {(() => {\r\n                if (loaded == 1) {\r\n                    return (\r\n                        <>\r\n\r\n                            <div className=\"container-xl\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-lg-2\">\r\n                                    </div>\r\n                                    <div className=\"col-lg-8\">\r\n                                        <div className=\"container-lg\">\r\n                                            <User\r\n                                                mode={props.mode}\r\n                                                username={username}\r\n                                                name={name}\r\n                                                dp={dp}\r\n                                                user_id={id}\r\n                                                bio={bio} />\r\n\r\n\r\n                                            <ControlledTabs data={props} username={username} mode={props.mode} />\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-lg-2\">\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </>\r\n                    )\r\n                } else if (loaded == 2) {\r\n                    return (<> <Page404 /></>)\r\n                }\r\n\r\n            })()}\r\n\r\n\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nexport default Dashboard;","import React, { useState, useEffect, useContext } from 'react';\r\n\r\nimport { Nav, Dropdown } from \"react-bootstrap\"\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n// faToggleOn, faToggleOff\r\nimport { LockRounded } from '@material-ui/icons';\r\nimport Axios from \"axios\"\r\nimport { getApiLink } from \"../lib/env.lib\"\r\n\r\nimport { faCaretRight, faCaretDown } from '@fortawesome/free-solid-svg-icons';\r\nimport { AuthContext } from \"../contexts/auth_context\"\r\n\r\nimport notyf from \"../lib/notification\"\r\nexport const ProfileSettings = (props) => {\r\n    const { user_id, user_dp, user_fullname, user_username, user_bio, user_gender, auth_token, setAuth } = useContext(AuthContext);\r\n\r\n    // const [state, setstate] = useState(initialState)\r\n    const [u_dp, setDp] = useState(user_dp)\r\n    const [u_name, setName] = useState(user_fullname)\r\n    const [u_bio, setBio] = useState(user_bio)\r\n    const [u_gender, setGender] = useState(user_gender)\r\n\r\n    function handleChange(e) {\r\n        if (e.target.name == \"name\") {\r\n            setName(e.target.value)\r\n        }\r\n\r\n        if (e.target.name == \"bio\") {\r\n            setBio(e.target.value)\r\n        }\r\n\r\n        if (e.target.name == \"gender\") {\r\n            setGender(e.target.value)\r\n        }\r\n    }\r\n\r\n    function saveImage(dp) {\r\n        Axios.post(`${getApiLink()}/api/v1/updateUserSettings`, {\r\n            \"xAuthToken\": auth_token,\r\n            \"profile_image_link\": dp\r\n        }).then((doc) => {\r\n            console.log(doc)\r\n\r\n            if (doc.data.success) {\r\n                setDp(dp)\r\n                doc.data.message.token = auth_token\r\n                console.log({ doc })\r\n                setAuth(doc.data)\r\n                notyf.success(\"Successfully updated image\")\r\n            } else {\r\n                notyf.error(\"Error occured while updating image\")\r\n            }\r\n        }).catch((e) => {\r\n            console.log(e)\r\n            console.log(\"Error while uploading image\")\r\n            notyf.error(\"Error occured while updating image\")\r\n        })\r\n    }\r\n\r\n    function handleUpload() {\r\n\r\n        let f_i = document.createElement(\"input\")\r\n        f_i.setAttribute(\"type\", \"file\")\r\n        f_i.setAttribute(\"accept\", \"image/*\")\r\n\r\n        f_i.click()\r\n\r\n        f_i.addEventListener(\"change\", () => {\r\n\r\n            if (f_i.files[0]) {\r\n\r\n                let f = new FormData()\r\n                f.append(\"file\", f_i.files[0])\r\n                return Axios.post(`${getApiLink()}/api/v1/upload`, f, {\r\n\r\n                }).then((doc) => {\r\n                    console.log(doc)\r\n\r\n                    if (doc.data.success) {\r\n                        saveImage(`${getApiLink()}/file/${doc.data.file_name}`)\r\n                    } else {\r\n                        notyf.error(\"Error occured while updating image\")\r\n                    }\r\n                }).catch((e) => {\r\n                    console.log(e)\r\n                    console.log(\"Error while uploading image\")\r\n                    return {\r\n                        success: 0\r\n                    }\r\n                })\r\n            } else {\r\n                notyf.error(\"Invalid file\")\r\n            }\r\n\r\n            f_i.removeEventListener(\"change\", () => { })\r\n        })\r\n\r\n\r\n\r\n    }\r\n\r\n    function handleSave() {\r\n\r\n        if (u_name == null || u_name == \"\" || u_name.length > 60) {\r\n            notyf.error(\"Invalid name\")\r\n        } else if (u_gender == null || u_gender == \"Choose...\") {\r\n            notyf.error(\"Invalid gender\")\r\n        } else if (u_bio == null || u_bio == \"\" || u_bio.length > 160) {\r\n            notyf.error(\"Invalid bio\")\r\n        } else {\r\n            Axios.post(`${getApiLink()}/api/v1/updateUserSettings`, {\r\n                \"xAuthToken\": auth_token,\r\n                \"fullname\": u_name,\r\n                \"user_bio\": u_bio,\r\n                \"gender\": u_gender\r\n            }).then((doc) => {\r\n                console.log(doc)\r\n\r\n                if (doc.data.success) {\r\n                    doc.data.message.token = auth_token\r\n                    console.log({ doc })\r\n                    setAuth(doc.data)\r\n                    notyf.success(\"Successfully updated profile\")\r\n                } else {\r\n                    notyf.error(\"Error occured while updating profile information\")\r\n                }\r\n            }).catch((e) => {\r\n                console.log(e)\r\n                console.log(\"Error while updating information\")\r\n                notyf.error(\"Error occured while updating profile information\")\r\n            })\r\n        }\r\n\r\n\r\n    }\r\n    return (<>\r\n\r\n        <div className={props.className}>\r\n            <h3>Public Profile</h3>\r\n            <hr className=\"light\" />\r\n            <div className=\"row\">\r\n                <div className=\"col-md-4 text-center show-xs hide-md\">\r\n\r\n                    <div className=\"position-relative text-center\">\r\n                        <img className=\"avatar_image\" alt=\"img\" name=\"dp\"\r\n                            src={u_dp} />\r\n\r\n                        <Dropdown>\r\n                            <Dropdown.Toggle className=\"position-absolute profile-edit-btn btn-sm px-2 py-1 right-50 bottom-0 ml-2 mb-2\" variant=\"info\" id=\"dropdown-basic2\">\r\n                                Edit\r\n                            </Dropdown.Toggle>\r\n\r\n                            <Dropdown.Menu>\r\n                                <Dropdown.Item eventKey=\"1\" onClick={handleUpload}>Upload Image</Dropdown.Item>\r\n                                {/* <Dropdown.Item eventKey=\"2\">Remove Image</Dropdown.Item> */}\r\n                            </Dropdown.Menu>\r\n                        </Dropdown>\r\n\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"col-md-8\">\r\n                    <h6>Name</h6>\r\n                    <input type=\"text\" className=\"form-control\" name=\"name\" placeholder=\"Full Name\" value={u_name} onChange={handleChange} />\r\n                    <p className=\"text-muted\">\r\n                        Your name may appear around Lattice where you contribute or are mentioned.\r\n                        </p>\r\n                    <br />\r\n                    <h6>Username</h6>\r\n                    <input type=\"text\" className=\"form-control\" placeholder=\"@username\" value={user_username} disabled />\r\n                    <p className=\"text-muted\">\r\n                        Your username may appear around Lattice where you contribute or are mentioned.\r\n                        </p>\r\n\r\n                    <h6>Bio</h6>\r\n                    <textarea id=\"\" cols=\"30\" rows=\"3\" className=\"form-control\" name=\"bio\"\r\n                        placeholder=\"Enter you Profile Bio\" value={u_bio} onChange={handleChange} ></textarea>\r\n\r\n                    <hr className=\"darker\" />\r\n                    <h6>Gender</h6>\r\n                    <select className=\"custom-select form-control\" id=\"ig-gender\" name=\"gender\" onChange={handleChange} value={u_gender}>\r\n                        <option defaultChecked>Choose...</option>\r\n                        <option value=\"0\">Male</option>\r\n                        <option value=\"1\">Female</option>\r\n                        <option value=\"2\">Others</option>\r\n                        <option value=\"-1\">Choose not to specify.</option>\r\n                    </select>\r\n                    <button className=\"btn btn-primary mt-2\" onClick={handleSave}>Save</button>\r\n                </div>\r\n                <div className=\"col-md-4 text-left pl-2 hide-xs show-md\">\r\n\r\n                    <div className=\"position-relative\">\r\n                        <img className=\"avatar_image\" alt=\"img\"\r\n                            src={u_dp} />\r\n\r\n                        <Dropdown>\r\n                            <Dropdown.Toggle className=\"position-absolute profile-edit-btn btn-sm px-2 py-1 left-0 bottom-0 ml-2 mb-2\" variant=\"info\" id=\"dropdown-basic\">\r\n                                Edit\r\n                            </Dropdown.Toggle>\r\n\r\n                            <Dropdown.Menu>\r\n                                <Dropdown.Item eventKey=\"1\" onClick={handleUpload}>Upload Image</Dropdown.Item>\r\n                                {/* <Dropdown.Item eventKey=\"2\">Remove Image</Dropdown.Item> */}\r\n                            </Dropdown.Menu>\r\n                        </Dropdown>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n\r\n    </>);\r\n}\r\n\r\nconst AccountSettings = (props) => {\r\n    return (<>\r\n        <div className={props.className}>\r\n            <h3>Account Settings</h3>\r\n            <hr className=\"light\" />\r\n\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8\">\r\n                    This is something\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </>);\r\n}\r\n\r\nconst SecuritySettings = (props) => {\r\n\r\n    function handleSave() {\r\n        console.log(\"saving new password\")\r\n    }\r\n    return (\r\n        <>\r\n            <div className={props.className}>\r\n                <h3>Security Settings</h3>\r\n                <hr className=\"light\" />\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-8\">\r\n                        <br />\r\n                        <h5>Change password</h5>\r\n                        <hr className=\"light\" />\r\n                        <h6>Old passworrd</h6>\r\n                        <input type=\"password\" className=\"form-control\" placeholder=\"Enter you current password\" />\r\n\r\n                        <h6 className=\"mt-3\">New password</h6>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-6\">\r\n                                <input type=\"password\" className=\"form-control\" placeholder=\"Enter new password\" />\r\n                            </div>\r\n                            <div className=\"col-md-6\">\r\n                                <input type=\"password\" className=\"form-control\" placeholder=\"Repeat new password\" />\r\n                            </div>\r\n                        </div>\r\n                        <button className=\"btn btn-primary mt-3\" onClick={handleSave}>Change password</button>\r\n\r\n                        <h5 className=\"mt-4 pt-3\">Two-factor authentication</h5>\r\n                        <hr className=\"light\" />\r\n                        <div className=\"text-center\">\r\n\r\n                            <span className=\"mt-4 mb-2 pt-4 pb-2\"><LockRounded className=\"text-muted\" style={{\r\n                                fontSize: \"48px\"\r\n                            }} /></span>\r\n                            <h5>Two factor authentication is not enabled yet.</h5>\r\n                            <p className=\"text-muted\" style={{\r\n                                fontSize: \"14px\"\r\n                            }}>Two-factor authentication adds an additional layer of security to\r\n                                your account by requiring more than just a password to log in.</p>\r\n\r\n                            <button className=\"btn btn-success mt-4\">Enable two-factor authentication</button>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>);\r\n}\r\n\r\nfunction handleChange(display) {\r\n    if (display === 1) {\r\n        return (<ProfileSettings className=\"mt-4 pb-4\" />)\r\n    } else if (display === 2) {\r\n        return (<AccountSettings className=\"mt-4 pb-4\" />)\r\n    } else {\r\n        return (<SecuritySettings className=\"mt-4 pb-4\" />)\r\n    }\r\n}\r\n\r\nfunction showToggle(c, showMenu) {\r\n\r\n    if (c) {\r\n        return (\r\n            <span>\r\n                {/* {(showMenu === 1) ? <FontAwesomeIcon icon={faToggleOn} className=\"toggle-icon\" /> : <FontAwesomeIcon icon={faToggleOff} className=\"toggle-icon\" />} */}\r\n                {(showMenu === 1) ? <FontAwesomeIcon icon={faCaretDown} className=\"toggle-icon\" /> : <FontAwesomeIcon icon={faCaretRight} className=\"toggle-icon\" />}\r\n            </span>\r\n        )\r\n    } else {\r\n        return \"\"\r\n    }\r\n\r\n}\r\n// export default ProfileSettings;\r\nconst Settings = () => {\r\n\r\n    const [display, setdisplay] = useState(1);\r\n\r\n    const [showMenu, setshowMenu] = useState(1);\r\n    const [useToggle, setUseToggle] = useState(0);\r\n    // eslint-disable-next-line no-restricted-globals\r\n    const w = screen.availWidth;\r\n\r\n    useEffect(() => {\r\n\r\n        if (w <= 767) {\r\n            setUseToggle(1)\r\n            setshowMenu(0)\r\n        }\r\n\r\n    }, [w])\r\n\r\n    function setStateProfile(e) {\r\n        // console.log(\"1\")\r\n        setdisplay(1)\r\n    }\r\n\r\n    function setStateAccount(e) {\r\n        // console.log(\"2\")\r\n        setdisplay(2)\r\n    }\r\n\r\n    function setStateSecurity(e) {\r\n        // console.log(\"3\")\r\n        setdisplay(3)\r\n    }\r\n\r\n    function setSettingsToggler() {\r\n        if (w <= 767) {\r\n            setshowMenu((showMenu + 1) % 2)\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"settings-section\">\r\n            <div className=\"container\">\r\n\r\n                <div className=\"row\">\r\n\r\n\r\n                    <div className=\"col-lg-3 mb-0 mt-3\">\r\n\r\n                        <h2 className=\"noselect cursor-pointer\" onClick={setSettingsToggler}>Settings&nbsp;\r\n                        {showToggle(useToggle, showMenu)}\r\n                        </h2>\r\n\r\n                        <div className={(showMenu === 0) ? \"hide-sm hide-xs\" : \"\"}>\r\n                            <Nav variant=\"pills\" defaultActiveKey=\"link-1\" className=\"flex-column settings-nav\">\r\n                                <Nav.Item>\r\n                                    <Nav.Link i={1} className=\"nav-btn\" onClick={setStateProfile} eventKey=\"link-1\">Profile Settings</Nav.Link>\r\n                                </Nav.Item>\r\n                                <Nav.Item>\r\n                                    <Nav.Link i={1} className=\"nav-btn\" onClick={setStateAccount} eventKey=\"link-2\">Account Settings</Nav.Link>\r\n                                </Nav.Item>\r\n                                <Nav.Item>\r\n                                    <Nav.Link i={1} className=\"nav-btn\" onClick={setStateSecurity} eventKey=\"link-3\">Security Settings</Nav.Link>\r\n                                </Nav.Item>\r\n                            </Nav>\r\n                        </div>\r\n\r\n\r\n                    </div>\r\n\r\n                    <div className=\"col-lg-9\">\r\n                        {handleChange(display)}\r\n                        <br />\r\n                        <br />\r\n                        <br />\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div >\r\n\r\n    );\r\n}\r\n\r\nexport default Settings;","import React, { useState, useContext } from 'react';\r\nimport img1 from \"../images/i1.png\"\r\n\r\nimport { Link, Redirect } from \"react-router-dom\"\r\n\r\nimport { AuthContext } from \"../contexts/auth_context\"\r\nimport notyf from \"../lib/notification\"\r\n\r\nimport Axios from \"axios\"\r\nimport { getApiLink } from \"../lib/env.lib\"\r\n\r\nconst validateEmail = (email) => {\r\n    let re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(email);\r\n}\r\n\r\nconst Login = (props) => {\r\n\r\n    const { isLoggedIn, setAuth } = useContext(AuthContext);\r\n\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n\r\n    function handleChange(e) {\r\n        // console.log(e.target.name, e.target.value)\r\n\r\n        let n = e.target.name;\r\n        let v = e.target.value;\r\n        if (n === \"email\") {\r\n            setEmail(v)\r\n        } else if (n === \"password\") {\r\n            setPassword(v)\r\n        }\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        let data = {\r\n            email,\r\n            password\r\n        }\r\n\r\n        if (email === \"\" || !validateEmail(email)) {\r\n            notyf.error(\"Invalid email\")\r\n            return\r\n        }\r\n\r\n        if (password === \"\" || password.length < 6) {\r\n            notyf.error(\"Invalid password\")\r\n            return\r\n        }\r\n\r\n        Axios.post(`${getApiLink()}/login`, data).then((response) => {\r\n            // console.log(getApiLink())\r\n            // console.log(response)\r\n            // alert(response)\r\n            notyf.success(\"Logged in successfully!\")\r\n\r\n            if (response.data.success) {\r\n                setAuth(response.data)\r\n            }\r\n        }).catch((e) => {\r\n            // alert(e)\r\n            // console.log({ response: e.response })\r\n\r\n            if (e.response.data.error.message != null) {\r\n                notyf.error(\"\" + e.response.data.error.message)\r\n            } else {\r\n                notyf.error(\"Error\")\r\n            }\r\n        })\r\n        // alert(name + \" \" + username + \" \" + email + \" \" + password + \" \" + confpassword)\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <>\r\n                <div className=\"container\">\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"col-md-9 col-lg-12 col-xl-10\">\r\n                            <div className=\"card shadow-lgx o-hidden border-0 my-5x\" style={{ backgroundColor: \"inherit\", color: \"inherit\" }}>\r\n                                <div className=\"card-body p-0\">\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-lg-6 d-none d-lg-flex\" style={{ backgroundColor: \"inherit\", color: \"inherit\" }}>\r\n                                            {/* <img alt=\"img\"\r\n                                            src=\"assets/img/Rectangle%202.png\" /> */}\r\n                                            <img alt=\"img\" src={img1}\r\n                                                style={{ height: \"400px\", marginTop: \"87px\", marginRight: \"6px\", paddingRight: \"-7px\", paddingTop: \"1px\", paddingLeft: \"0px\", marginLeft: \"12px\" }} />\r\n                                        </div>\r\n                                        <div className=\"col-lg-6\">\r\n                                            <div className=\"pt-4 p-md-5 pl-sm-0 pr-sm-0 pt-sm-5\">\r\n                                                <div className=\"text-center\">\r\n\r\n                                                    <h4 className=\"mb-4\"\r\n                                                        style={{ color: \"inherit\" }}>Welcome\r\n                                            Back!</h4>\r\n                                                </div>\r\n                                                <form className=\"user\">\r\n                                                    <div className=\"form-group\">\r\n                                                        <input className=\"form-control form-control-user\"\r\n                                                            onChange={handleChange}\r\n                                                            type=\"email\" id=\"exampleInputEmail\" aria-describedby=\"emailHelp\"\r\n                                                            placeholder=\"Enter Email Address...\" name=\"email\"\r\n                                                            style={{}} />\r\n                                                    </div>\r\n\r\n                                                    <div className=\"form-group\">\r\n                                                        <input className=\"form-control form-control-user\"\r\n                                                            onChange={handleChange}\r\n                                                            type=\"password\" id=\"exampleInputPassword\" placeholder=\"Password\"\r\n                                                            name=\"password\" style={{}} />\r\n                                                    </div>\r\n                                                    <div className=\"form-group\">\r\n                                                        <div className=\"pl-2 custom-checkbox small\">\r\n                                                            <div className=\"form-check\">\r\n                                                                <input\r\n                                                                    className=\"form-check-input custom-control-input\" type=\"checkbox\"\r\n                                                                    id=\"formCheck-1\" />\r\n                                                                <label\r\n                                                                    className=\"form-check-label custom-control-label\" for=\"formCheck-1\"\r\n                                                                    style={{}}>Remember Me</label>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div><button className=\"btn btn-primary btn-block text-white btn-user\"\r\n                                                        type=\"submit\" style={{}} onClick={handleSubmit}>Login</button>\r\n                                                    <hr />\r\n                                                    {/* <a className=\"btn btn-primary btn-block text-white btn-google btn-user\"\r\n                                                        role=\"button\" style={{}} href=\"#btn\">\r\n                                                        <i\r\n                                                            className=\"fab fa-google\"></i>&nbsp; Login with Google</a><a href=\"#btn\"\r\n                                                                className=\"btn btn-primary btn-block text-white btn-facebook btn-user\"\r\n                                                                role=\"button\" style={{}}><i\r\n                                                                    className=\"fab fa-facebook-f\"></i>&nbsp; Login with Facebook</a>\r\n                                                    <hr /> */}\r\n                                                </form>\r\n                                                <div className=\"text-center\"><a className=\"small\" href=\"forgot-password.html\"\r\n                                                    style={{ color: \"inherit\" }}>Forgot Password?</a></div>\r\n                                                <div className=\"text-center\"><Link className=\"small\" to=\"/register\"\r\n                                                    style={{ color: \"inherit\" }}>Create an Account!</Link>\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    } else {\r\n        return (<>\r\n            <Redirect to=\"/\" />\r\n        </>)\r\n    }\r\n}\r\n\r\nexport default Login;","import React, { useState, useContext } from 'react';\r\nimport img1 from \"../images/i2.png\"\r\nimport { Link, Redirect } from \"react-router-dom\"\r\n\r\nimport { AuthContext } from \"../contexts/auth_context\"\r\nimport notyf from '../lib/notification';\r\n\r\nimport Axios from \"axios\"\r\nimport { getApiLink } from \"../lib/env.lib\"\r\n\r\nconst validateEmail = (email) => {\r\n    let re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(email);\r\n}\r\n\r\nconst Register = (props) => {\r\n\r\n    const { isLoggedIn, setAuth } = useContext(AuthContext);\r\n\r\n    const [inviteMode, setInviteMode] = useState(2)\r\n    const [inviteCode, setInviteCode] = useState(\"\");\r\n    const [name, setName] = useState(\"\");\r\n    const [username, setUsername] = useState(\"\")\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [confpassword, setConfpass] = useState(\"\")\r\n\r\n    function handleChange(e) {\r\n        // console.log(e.target.name, e.target.value)\r\n        let n = e.target.name;\r\n        let v = e.target.value;\r\n        if (n == \"invite\") {\r\n            setInviteCode(v)\r\n        } else if (n === \"fullname\") {\r\n            setName(v)\r\n        } else if (n === \"username\") {\r\n            setUsername(v)\r\n        } else if (n === \"email\") {\r\n            setEmail(v)\r\n        } else if (n === \"password\") {\r\n            setPassword(v)\r\n        } else if (n === \"confpassword\") {\r\n            setConfpass(v)\r\n        }\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        console.log({\r\n            // inviteCode,\r\n            name,\r\n            username,\r\n            email,\r\n            password,\r\n            confpassword\r\n        })\r\n\r\n        let data = {\r\n            // inviteCode: inviteCode,\r\n            username: username,\r\n            fullname: name,\r\n            email,\r\n            password,\r\n            confpassword\r\n        }\r\n\r\n        // if (inviteCode === \"\") {\r\n        //     notyf.error(\"Invalid inviteCode\")\r\n        //     return\r\n        // }\r\n\r\n        if (name === \"\") {\r\n            notyf.error(\"Invalid name\")\r\n            return\r\n        }\r\n\r\n        if (username === \"\") {\r\n            notyf.error(\"Invalid username\")\r\n            return\r\n        }\r\n\r\n        if (email === \"\" || !validateEmail(email)) {\r\n            notyf.error(\"Invalid email\")\r\n            return\r\n        }\r\n\r\n        if (password === \"\" || password.length < 6) {\r\n            notyf.error(\"Invalid password\")\r\n            return\r\n        }\r\n        if (confpassword === \"\" || confpassword.length < 6) {\r\n            notyf.error(\"Invalid confirmation password\")\r\n            return\r\n        }\r\n\r\n        if (password !== confpassword) {\r\n            notyf.error(\"Passwords do not match\")\r\n            return\r\n        }\r\n\r\n        Axios.post(`${getApiLink()}/register`, data).then((response) => {\r\n            // console.log(getApiLink())\r\n            // console.log(response)\r\n            // alert(response)\r\n            notyf.success(\"Registered successfully\")\r\n\r\n            if (response.data.success) {\r\n                setAuth(response.data)\r\n            }\r\n        }).catch((e) => {\r\n            // alert(e)\r\n            console.log(e.response)\r\n            if (e.response.data.error.message != null) {\r\n                notyf.error(\"\" + e.response.data.error.message)\r\n            } else {\r\n                notyf.error(\"Error\")\r\n            }\r\n            // notyf.error(\"\" + e.response.data.error.message)\r\n        })\r\n        // alert(name + \" \" + username + \" \" + email + \" \" + password + \" \" + confpassword)\r\n    }\r\n\r\n\r\n    if (!isLoggedIn) {\r\n        if (inviteMode == 2) {\r\n            return (\r\n                <>\r\n                    <div className=\"container\">\r\n                        <div className=\"row justify-content-center\">\r\n                            <div className=\"col-md-9 col-lg-12 col-xl-10\">\r\n                                <div className=\"card shadow-lgx o-hidden border-0 my-5x\" style={{ backgroundColor: \"inherit\", color: \"inherit\" }}>\r\n                                    <div className=\"card-body p-0\">\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-lg-6 d-none d-lg-flex\" style={{ backgroundColor: \"inherit\", color: \"inherit\" }}>\r\n                                                {/* <img alt=\"img\"\r\n                                            src=\"assets/img/Rectangle%202.png\" /> */}\r\n                                                <img alt=\"img\" src={img1}\r\n                                                    style={{ height: \"400px\", marginTop: \"87px\", paddingTop: \"1px\", }} />\r\n                                            </div>\r\n                                            <div className=\"col-lg-6\">\r\n                                                <div className=\"pt-4 p-md-5 pl-sm-0 pr-sm-0 pt-sm-5\">\r\n                                                    <div className=\"text-center\">\r\n\r\n                                                        <h4 className=\"mb-4\"\r\n                                                            style={{ color: \"inherit\" }}>Create an account</h4>\r\n                                                    </div>\r\n                                                    <form className=\"user\">\r\n\r\n                                                        <div className=\"form-group\">\r\n                                                            {/* <div className=\"col-sm-6 mb-3 mb-sm-0\"><input className=\"form-control form-control-user\" type=\"text\" id=\"exampleFirstName\" placeholder=\"First Name\" name=\"first_name\" required /></div>\r\n                                                    <div className=\"col-sm-6\"><input className=\"form-control form-control-user\" type=\"text\" id=\"exampleFirstName\" placeholder=\"Last Name\" name=\"last_name\" required /></div> */}\r\n\r\n                                                            <input type=\"text\" name=\"fullname\" className=\"form-control form-control-user\" onChange={handleChange} placeholder=\"What would you like us to call you?\" />\r\n                                                        </div>\r\n\r\n                                                        <div className=\"form-group\">\r\n                                                            <input className=\"form-control form-control-user\"\r\n                                                                name=\"username\" onChange={handleChange}\r\n                                                                type=\"text\" id=\"exampleUsernameEmail\" aria-describedby=\"username\"\r\n                                                                placeholder=\"Enter Username...\" required />\r\n                                                        </div>\r\n\r\n                                                        <div className=\"form-group\">\r\n                                                            <input className=\"form-control form-control-user\"\r\n                                                                onChange={handleChange}\r\n                                                                type=\"email\" id=\"exampleInputEmail\" aria-describedby=\"emailHelp\"\r\n                                                                placeholder=\"Enter Email Address...\" name=\"email\"\r\n                                                                style={{}} required />\r\n                                                        </div>\r\n\r\n\r\n\r\n                                                        {/* <div className=\"form-group\">\r\n                                                    <input className=\"form-control form-control-user\"\r\n                                                        type=\"password\" id=\"exampleInputPassword\" placeholder=\"Password\"\r\n                                                        name=\"password\" style={{}} />\r\n                                                </div> */}\r\n\r\n                                                        <div className=\"form-group row\">\r\n                                                            <div className=\"col-sm-6 mb-3 mb-sm-0\">\r\n                                                                <input className=\"form-control form-control-user\" type=\"password\" onChange={handleChange} id=\"examplePasswordInput\" placeholder=\"Password\" name=\"password\" />\r\n                                                            </div>\r\n                                                            <div className=\"col-sm-6\">\r\n                                                                <input className=\"form-control form-control-user\" type=\"password\" onChange={handleChange} id=\"exampleRepeatPasswordInput\" placeholder=\"Repeat Password\" name=\"confpassword\" />\r\n                                                            </div>\r\n                                                        </div>\r\n\r\n\r\n                                                        {/* <div className=\"form-group\">\r\n                                                    <div className=\"custom-control custom-checkbox small\">\r\n                                                        <div className=\"form-check\">\r\n                                                            <input\r\n                                                                className=\"form-check-input custom-control-input\" type=\"checkbox\"\r\n                                                                id=\"formCheck-1\" />\r\n                                                            <label\r\n                                                                className=\"form-check-label custom-control-label\" for=\"formCheck-1\"\r\n                                                                style={{}}>Remember Me</label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div> */}\r\n\r\n                                                        <button className=\"btn btn-primary btn-block text-white btn-user\"\r\n                                                            type=\"submit\" onClick={handleSubmit} style={{}}>Register</button>\r\n\r\n                                                        <hr />\r\n\r\n                                                        {/* <a className=\"btn btn-primary btn-block text-white btn-google btn-user\"\r\n                                                    role=\"button\" style={{}} href=\"#btn\">\r\n                                                    <i\r\n                                                        className=\"fab fa-google\"></i>&nbsp; Login with Google</a><a href=\"#btn\"\r\n                                                            className=\"btn btn-primary btn-block text-white btn-facebook btn-user\"\r\n                                                            role=\"button\" style={{}}><i\r\n                                                                className=\"fab fa-facebook-f\"></i>&nbsp; Login with Facebook</a> */}\r\n                                                        <hr />\r\n                                                    </form>\r\n                                                    {/* <div className=\"text-center\"><a className=\"small\" href=\"forgot-password.html\"\r\n                                                style={{}}>Forgot Password?</a></div> */}\r\n                                                    <div className=\"text-center\"><Link className=\"small\" to=\"/login\"\r\n                                                        style={{ color: \"inherit\" }}>Already have an account? Login!</Link>\r\n\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            );\r\n        } else if (inviteMode == 1) {\r\n            return (\r\n                <>\r\n                    {/* <div className=\"container\"> */}\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-4\"></div>\r\n                            <div className=\"col-md-4\">\r\n                                <h1>Enter invite code: </h1>\r\n\r\n                                <button className=\"btn btn-primary\" onClick={()=>{\r\n                                    setInviteMode(2)\r\n                                }}>Submit</button>\r\n                            </div>\r\n                            <div className=\"col-md-4\"></div>\r\n                        </div>\r\n                    {/* </div> */}\r\n                </>\r\n            )\r\n        } else {\r\n            return (\r\n                <>\r\n                    {/* <div className=\"container\"> */}\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-4\"></div>\r\n                            <div className=\"col-md-4\">\r\n                                <h1>Enter email address: </h1>\r\n\r\n                                <button className=\"btn btn-primary\" onClick={()=>{\r\n                                    setInviteMode(1)\r\n                                }}>Submit</button>\r\n                            </div>\r\n                            <div className=\"col-md-4\"></div>\r\n                        </div>\r\n                    {/* </div> */}\r\n                </>\r\n            )\r\n        }\r\n\r\n    } else {\r\n        return (<>\r\n            <Redirect to=\"/\" />\r\n        </>)\r\n    }\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\n\r\nimport Axios from \"axios\"\r\n// import DropdownMenu, { DropdownItem } from '../components/dropdown'\r\nimport { getApiLink } from \"../lib/env.lib\"\r\nconst getStatusDisp = (disp) => {\r\n    let d;\r\n    if (disp === -1) {\r\n        d = (<> <span style={{ color: \"yellow\" }}>LODING</span></>)\r\n    } else if (disp === 0) {\r\n        d = (<> <span style={{ color: \"red\" }}>INACTIVE</span></>)\r\n    } else if (disp === 1) {\r\n        d = (<> <span style={{ color: \"green\" }}>ACTIVE</span></>)\r\n    }\r\n\r\n    return d\r\n}\r\nconst Status = (props) => {\r\n\r\n    const [uiStatus, setUiStatus] = React.useState(-1)\r\n    const [ver, setVer] = React.useState(\"\")\r\n    const [build_ver, setBuildVer] = React.useState(\"\")\r\n    const [build_time, setBuildTime] = React.useState(\"\")\r\n\r\n    let codeStyle= {\r\n        fontSize: \"16px\",\r\n        color: \"#35c644\"\r\n    }\r\n    React.useEffect(() => {\r\n        console.log({ api: getApiLink() })\r\n        Axios.get(`${getApiLink()}/api/v1/user-api-service`).then((response) => {\r\n            console.log(response)\r\n            if (response.data.success) {\r\n                setUiStatus(1)\r\n            } else {\r\n                setUiStatus(0)\r\n            }\r\n        })\r\n\r\n        Axios.get(`${getApiLink()}/`).then((response) => {\r\n            console.log(response)\r\n            if (response) {\r\n                setVer(response.data.version)\r\n            } else {\r\n                setVer(\"Loding\")\r\n            }\r\n        })\r\n\r\n        Axios.get(\"/version.json\").then((response) => {\r\n            console.log(response)\r\n            if (response) {\r\n                setBuildVer(response.data.version)\r\n                setBuildTime(new Date(response.data.build).toISOString())\r\n            }\r\n        }).catch((e) => {\r\n            setBuildVer(\"\")\r\n            setBuildTime(\"\")\r\n            console.log(e)\r\n        })\r\n\r\n    }, [])\r\n    return (\r\n        <>\r\n            <div className=\"container\">\r\n\r\n                <div className=\"w-100 text-center mt-4\">\r\n                    <h1>Lattice</h1>\r\n                </div>\r\n                <p> UI Build Version: <code style={codeStyle}>{build_ver}</code> - <code style={codeStyle}>{build_time}</code></p>\r\n                <p>Server Build Version: <code style={codeStyle}>{ver}</code></p>\r\n\r\n                <h1>Status</h1>\r\n\r\n                <p>UI STATUS: {getStatusDisp(uiStatus)}</p>\r\n\r\n                {/* <DropdownMenu title={\"hey\"} className=\"btn btn-primary\">\r\n                    <DropdownItem type=\"link\" to=\"/settings\">\r\n                        settings\r\n                    </DropdownItem>\r\n                    <DropdownItem onClick={(()=>{alert(\"hey\")})}>\r\n                        hey2\r\n                    </DropdownItem> \r\n                    <DropdownItem>\r\n                        hey3\r\n                    </DropdownItem>\r\n                     <DropdownItem>\r\n                        hey4\r\n                    </DropdownItem>\r\n                    <hr className=\"light p-0 m-0\" />\r\n                    <DropdownItem>\r\n                        hey\r\n                    </DropdownItem>\r\n                </DropdownMenu> */}\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Status;","/* eslint-disable no-useless-escape */\r\nimport React from 'react';\r\nimport parser from 'html-react-parser';\r\n\r\nconst getHostnameFromRegex = (url) => {\r\n  // run against regex\r\n\r\n  const matches = url.match(/^https?\\:\\/\\/([^\\/?#]+)(?:[\\/?#]|$)/i);\r\n  // extract hostname (will be null if no match is found)\r\n  return matches && matches[1];\r\n}\r\n\r\n// function randomString(length) {\r\n//   return Math.round((Math.pow(36, length + 1) - Math.random() * Math.pow(36, length))).toString(36).slice(1);\r\n// }\r\n\r\n// const generateKey = (pre) => {\r\n//   return `${pre}_${new Date().getTime()}`;\r\n// }\r\n\r\nfunction ReadOnly({ data }) {\r\n\r\n  let key = 0;\r\n\r\n  const getKey = () => {\r\n    return (key++).toString()\r\n  }\r\n  const renderBlock = ({ type, data }) => {\r\n    let content = \"\"\r\n    switch (type) {\r\n      case \"header\":\r\n        const element = React.createElement(\r\n          `h${data.level}`,\r\n          {\r\n            className: 'ce-header',\r\n          },\r\n          data.text\r\n        )\r\n        content = (<div key={getKey()} style={{ height: \"fit-content\" }}>\r\n          {element}\r\n        </div>)\r\n        break;\r\n\r\n      case \"list\":\r\n\r\n        if (data.style === \"ordered\") {\r\n          content = (<ol key={getKey()} className={`\"cdx-block\" \"cdx-list\" \"cdx-list--${data.style}\"`}>\r\n            {data.items.map(item => <li key={getKey()} className=\"cdx-list__item\">{parser(item)}</li>)}\r\n          </ol>)\r\n        } else {\r\n          content = (<ul key={getKey()} className={`\"cdx-block\" \"cdx-list\" \"cdx-list--${data.style}\"`}>\r\n            {data.items.map(item => <li key={getKey()} className=\"cdx-list__item\">{parser(item)}</li>)}\r\n          </ul>)\r\n        }\r\n        break;\r\n\r\n      case \"embed\":\r\n\r\n        content = (<div key={getKey()} className=\"cdx-block embed-tool\">\r\n          <iframe title=\"embed\" className=\"embed-tool__content\" scrolling=\"no\" style={{ \"#brand\": \"none\", margin: \"0 auto\" }} height={data.height} frameborder=\"0\" width=\"100%\"\r\n            allowfullscreen src={data.embed}>\r\n          </iframe>\r\n          <div style={{ 'textAlign': \"center\", 'marginTop': \"5px\" }}>{parser(data.caption)}</div>\r\n        </div>)\r\n        break;\r\n\r\n      case \"code\":\r\n        content = (\r\n          <div key={getKey()} className=\"cdx-block ce-code\">\r\n            <textarea defaultValue={data.code + \"\"} className=\"ce-code__textarea cdx-input\" placeholder=\"Enter code\">\r\n            </textarea>\r\n          </div>\r\n        )\r\n        break;\r\n\r\n      case \"image\":\r\n        content = (\r\n          <div key={getKey()} className=\"cdx-block image-tool image-tool--filled\">\r\n            <div className=\"image-tool__image\">\r\n              <img className=\"image-tool__image-picture\" alt=\"img\" src={data.file.url}></img>\r\n            </div>\r\n            <div class=\"image-tool__caption\">{parser(data.caption)}</div>\r\n          </div>\r\n        )\r\n        break;\r\n\r\n      case \"simpleImage\":\r\n        content = (\r\n          <div key={getKey()} className=\"cdx-block cdx-simple-image\">\r\n            <div className=\"cdx-simple-image__picture\">\r\n              <img className=\"image-tool__image-picture_x\" alt=\"i\" src={data.url}></img>\r\n            </div>\r\n            <div class=\"cdx-simple-image__caption\">{parser(data.caption)}</div>\r\n          </div>\r\n        )\r\n        break;\r\n\r\n      case \"delimiter\":\r\n        content = (<div key={getKey()} className=\"ce-delimiter cdx-block\"></div>)\r\n        break;\r\n\r\n      case \"warning\":\r\n        content = (<div key={getKey()} className=\"cdx-block cdx-warning\">\r\n          <div className=\"cdx-input cdx-warning__title\">\r\n            {parser(`${data.title}`)}\r\n          </div>\r\n          <div className=\"cdx-input cdx-warning__message\">\r\n            {parser(`${data.message}`)}\r\n          </div>\r\n        </div>)\r\n        break;\r\n\r\n      case \"quote\":\r\n        content = (\r\n          <div key={getKey()} className=\"cdx-block cdx quote\">\r\n            <div className=\"cdx-input cdx-quote__text\">\r\n              {/* <blockquote className=\"blockquote\" style_x={{ borderLeft: \"4px solid gray\" }}> */}\r\n              <p className=\"mb-0\">{parser(data.text)}</p>\r\n              {/* </blockquote> */}\r\n            </div>\r\n\r\n            <div className=\"text-center_x cdx-input cdx-quote__caption\">\r\n              {parser(data.caption)}\r\n            </div>\r\n          </div>\r\n        )\r\n        break;\r\n\r\n      case \"table\":\r\n\r\n        content = (\r\n          <div className=\"tc-editor cdx-block\" key={getKey()}>\r\n            <div className=\"tc-table__wrap\">\r\n              <table className=\"tc-table\">\r\n                <tbody>\r\n                  {data.content.map(item => {\r\n                    let dx = [];\r\n\r\n                    item.map(d => {\r\n                      dx.push(\r\n                        <td className=\"tc-table__cell\" key={getKey()}>\r\n                          <div className=\"tc-table__area\">\r\n                            <div className=\"tc-table__inp\">\r\n                              {parser(d)}\r\n                            </div>\r\n                          </div>\r\n                        </td>\r\n                      )\r\n\r\n                      return \"\"\r\n                    })\r\n\r\n                    return (<tr key={getKey()}>\r\n                      {dx}\r\n                    </tr>)\r\n                  })}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        )\r\n        break;\r\n\r\n      case \"linkTool\":\r\n        let url = (data.meta.image !== undefined || data.meta.image != null) ? ((data.meta.image.url) ? (data.meta.image.url) : \"\") : \"\"\r\n\r\n        url = (url === \"\" && (data.meta.icon !== undefined || data.meta.icon != null)) ? ((data.meta.icon.url) ? (data.meta.icon.url) : \"\") : url\r\n          // ) : \"\"\r\n\r\n          ;\r\n        let style_s = {\r\n          backgroundImage: `url(\\\"${url}\\\")`\r\n        }\r\n        content = (\r\n          <div key={getKey()} className=\"cdx-block\">\r\n            <div className=\"link-tool\">\r\n              <a className=\"link-tool__content link-tool__content--rendered\" target=\"_blank\" rel=\"nofollow noindex noopener noreferrer\" href={data.link}>\r\n                <div key={getKey()} className=\"link-tool__image\" style={style_s}>\r\n\r\n                </div>\r\n\r\n                <div className=\"link-tool__title\">{data.meta.title}</div>\r\n\r\n                <p key={getKey()} className=\"link-tool__description\">{data.meta.description}</p>\r\n\r\n                <span className=\"link-tool__anchor\">{getHostnameFromRegex(data.link)}</span>\r\n\r\n              </a></div>\r\n\r\n          </div>\r\n        )\r\n        break;\r\n\r\n      case \"paragraph\":\r\n        content = (\r\n          <div key={getKey()} className=\"ce-paragraph cdx-block w-100\">\r\n            {parser(`${data.text}`)}\r\n          </div>\r\n        )\r\n        break;\r\n\r\n      case \"checklist\":\r\n        ;\r\n        content = (\r\n          <div key={getKey()} className=\"cdx-block cdx-checklist\">\r\n\r\n            {data.items.map((d) => {\r\n              let classes = \"cdx-checklist__item\"\r\n              if (d.checked) {\r\n                classes += \" cdx-checklist__item--checked\"\r\n              }\r\n\r\n              return (\r\n                <div key={getKey()} className={classes}>\r\n                  <span className=\"cdx-checklist__item-checkbox\"></span>\r\n                  {/* <input type=\"checkbox\" class=\"form-control_x\" checked={d.checked}/> */}\r\n                  <div className=\"cdx-checklist__item-text\">\r\n                    {d.text}\r\n                  </div>\r\n\r\n                </div>\r\n              )\r\n\r\n            })}\r\n\r\n          </div>\r\n        )\r\n\r\n        break;\r\n      default:\r\n        content = (<div key={getKey()} className=\"ce-paragraph cdx-block\"> {parser(`${data.text}`)} </div>)\r\n        break;\r\n    }\r\n    return (<div className=\"ce-block\">\r\n      <div className=\"ce-block__content\">\r\n        {content}\r\n      </div>\r\n    </div>)\r\n  }\r\n\r\n  return (\r\n    data.blocks.map(block => renderBlock(block))\r\n  );\r\n}\r\n\r\nexport default ReadOnly;","import React, { useEffect, useState, useContext } from 'react';\r\n\r\nimport ReadMode from \"../components/readMode\"\r\nimport Axios from \"axios\"\r\nimport { getApiLink } from '../lib/env.lib';\r\nimport Page404 from \"./404\"\r\n\r\n// import { DiscussionEmbed } from 'disqus-react';\r\nconst ArticleReader = (props) => {\r\n    // const instanceRef = useRef(null);\r\n    let key = 0\r\n    const [data, setData] = useState(null)\r\n    const [disp, setDisp] = useState(0)\r\n    const [banner, setBanner] = useState(\"\")\r\n    useEffect(() => {\r\n        Axios.post(`${getApiLink()}/api/v1/getArticleById`, {\r\n            article_id: props.articleId\r\n        }).then((response) => {\r\n            console.log(response)\r\n            // alert(response)\r\n\r\n            if (response.data.success) {\r\n\r\n                if (response.data.message.data.content) {\r\n                    try {\r\n                        if (response.data.message.data.article_banner != \"NA\")\r\n                            setBanner(response.data.message.data.article_banner)\r\n\r\n                        document.title = response.data.message.data.title + \" - Lattice\"\r\n                        setData(JSON.parse(response.data.message.data.content))\r\n                        setDisp(1)\r\n                    } catch{\r\n                        setDisp(2)\r\n                    }\r\n                }\r\n\r\n\r\n            }\r\n        }).catch((e) => {\r\n\r\n            setDisp(2)\r\n            try {\r\n\r\n                if (e) {\r\n                    console.log({ resp: e.response.data })\r\n                    if (e.response.data.error.message != null) {\r\n                        console.log(e)\r\n                    } else {\r\n                        // notyf.error(\"Error\")\r\n                    }\r\n                } else {\r\n                    // notyf.error(\"Error\")\r\n                }\r\n            } catch{\r\n\r\n            }\r\n\r\n        })\r\n    }, [])\r\n\r\n    return (<>\r\n        <div style={{\r\n            overflowY: \"hidden\"\r\n        }}>\r\n\r\n            {(() => {\r\n                if (banner != \"NA\" || banner != \"\") {\r\n                    return (\r\n                        <>\r\n                            <div className=\"w-100 show-xs show-sm hide-md\">\r\n                                <div className=\" text-center mb-2\" style={{\r\n                                    height: \"40vw\",\r\n                                    width: \"100vw\",\r\n                                    overflow: \"hidden\",\r\n                                    display: \"flex\",\r\n                                    justifyContent: \"center\",\r\n                                    alignItems: \"center\",\r\n                                    marginTop: \"15px\",\r\n                                    borderBottomRightRadius: \"18px\",\r\n                                    borderBottomLeftRadius: \"18px\",\r\n                                    // marginTop: \"60px\"\r\n                                }}>\r\n                                    <img src={banner} alt=\"&nbsp;\" style={{\r\n                                        height: \"100%\",\r\n                                        width: \"auto\",\r\n                                        borderBottomRightRadius: \"18px\",\r\n                                        borderBottomLeftRadius: \"18px\",\r\n                                    }} />\r\n                                </div>\r\n                            </div>\r\n                        </>\r\n                    )\r\n                } else {\r\n                    return (\r\n                        <>\r\n                            <br />\r\n                            <br />\r\n                            <br />\r\n                        </>\r\n                    )\r\n                }\r\n            })()}\r\n\r\n            <div className=\"container\" style={{\r\n                overflowY: \"hidden\"\r\n            }}>\r\n                <div className=\"row\">\r\n\r\n                    <div className=\"col-lg-2\"></div>\r\n                    <div className=\"col-lg-8\" >\r\n                        {(() => {\r\n                            if (banner != \"NA\" || banner != \"\") {\r\n                                return (\r\n                                    <>\r\n                                        <div className=\"text-center mb-2 hide-xs hide-sm show-md show-lg show-xl\">\r\n                                            <img src={banner} alt=\"&nbsp;\" style={{\r\n                                                maxHeight: \"20vw\",\r\n                                                width: \"100%\",\r\n                                                borderBottomRightRadius: \"18px\",\r\n                                                borderBottomLeftRadius: \"18px\",\r\n                                                // marginTop: \"60px\"\r\n\r\n                                            }} />\r\n                                        </div>\r\n\r\n                                    </>\r\n                                )\r\n                            }\r\n                        })()}\r\n\r\n                        {(() => {\r\n                            if (disp == 1) {\r\n                                return (\r\n                                    <>\r\n                                        <ReadMode key={(key++).toString()} data={data} />\r\n                                        <br />\r\n                                        <br />\r\n                                        <br />\r\n\r\n                                    </>\r\n                                )\r\n                            } else if (disp == 2) {\r\n                                return (<><Page404 /></>)\r\n                            }\r\n                        })()}\r\n\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    </>\r\n    );\r\n}\r\n\r\nexport default ArticleReader;","import Axios from \"axios\"\r\nimport { getApiLink } from \"./env.lib\"\r\nimport Embed from '@editorjs/embed'\r\nimport Table from '@editorjs/table'\r\nimport Paragraph from '@editorjs/paragraph'\r\nimport List from '@editorjs/list'\r\nimport Warning from '@editorjs/warning'\r\nimport Code from '@editorjs/code'\r\nimport LinkTool from '@editorjs/link'\r\nimport Image from '@editorjs/image'\r\n// import Raw from '@editorjs/raw'\r\nimport Header from '@editorjs/header'\r\nimport Quote from '@editorjs/quote'\r\nimport Marker from '@editorjs/marker'\r\nimport CheckList from '@editorjs/checklist'\r\nimport Delimiter from '@editorjs/delimiter'\r\nimport InlineCode from '@editorjs/inline-code'\r\nimport SimpleImage from '@editorjs/simple-image'\r\n\r\nexport const EDITOR_JS_TOOLS = {\r\n    embed: {\r\n        class: Embed,\r\n        inlineToolbar: true,\r\n        config: {\r\n            services: {\r\n                youtube: true,\r\n                coub: true,\r\n                imgur: true,\r\n                twitch: true,\r\n                gfycat: true,\r\n                yandex: true,\r\n                codepen: true,\r\n                vimeo: true,\r\n                // twitter:true,\r\n                twitter: {\r\n                    regex: /^https?:\\/\\/twitter\\.com\\/(?:#!\\/)?(\\w+)\\/status(?:es)?\\/(\\d+)(?:\\/.*)?$/,\r\n                    embedUrl: 'https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>',\r\n                    html: '<iframe width=\"100%\" height=\"600\" style=\"margin: 0 auto;\" frameborder=\"0\" scrolling=\"no\" allowtransparency=\"true\"></iframe>',\r\n                    height: 600,\r\n                    width: 600,\r\n                    id: ids => ids.join('/status/')\r\n                },\r\n                instagram: {\r\n                    regex: /(https?:\\/\\/(?:www\\.)?instagram\\.com\\/p\\/([^/?#&]+)).*/,\r\n                    embedUrl: '<%= remote_id %>',\r\n                    html: '<div style=\"width: 100%; height: 100px; background-color: #DB2E6E; text-align: center; color: #ffffff; padding-top: 40px\">Instagram embedded.</div>',\r\n                    height: 300,\r\n                    width: 600\r\n                },\r\n\r\n                // instagram: {\r\n                //     regex: /https?:\\/\\/www\\.instagram\\.com\\/p\\/([^\\/\\?\\&]+)\\/?/,\r\n                //     embedUrl: 'https://www.instagram.com/p/<%= remote_id %>/embed',\r\n                //     html: '<iframe width=\"400\" height=\"505\" style=\"margin: 0 auto;\" frameborder=\"0\" scrolling=\"no\" allowtransparency=\"true\"></iframe>',\r\n                //     height: 505,\r\n                //     width: 400\r\n                // },\r\n\r\n            }\r\n        }\r\n    },\r\n    table: {\r\n        class: Table,\r\n        inlineToolbar: true,\r\n        config: {\r\n            rows: 2,\r\n            cols: 3,\r\n        },\r\n    },\r\n    paragraph: {\r\n        class: Paragraph,\r\n        inlineToolbar: true\r\n    },\r\n    list: {\r\n        class: List,\r\n        inlineToolbar: true,\r\n    },\r\n    warning: {\r\n        class: Warning,\r\n        inlineToolbar: true,\r\n        shortcut: 'CMD+SHIFT+W',\r\n        config: {\r\n            titlePlaceholder: 'Title',\r\n            messagePlaceholder: 'Message',\r\n        },\r\n    },\r\n    code: Code,\r\n    // linkTool: LinkTool,\r\n    linkTool: {\r\n        class: LinkTool,\r\n        config: {\r\n            endpoint: `${getApiLink()}/linkToolUrl` , // Your backend endpoint for url data fetching\r\n        }\r\n    },\r\n    // image: Image,\r\n    image: {\r\n        class: Image,\r\n        config: {\r\n\r\n            uploader: {\r\n                uploadByFile(file) {\r\n                    let f = new FormData()\r\n                    f.append(\"file\", file)\r\n                    return Axios.post(`${getApiLink()}/api/v1/upload`, f, {\r\n\r\n                    }).then((doc) => {\r\n                        console.log(doc)\r\n\r\n                        if (doc.data.success) {\r\n                            return {\r\n                                success: 1,\r\n                                file: {\r\n                                    url: `${getApiLink()}/file/${doc.data.file_name}`\r\n                                }\r\n                            }\r\n                        } else {\r\n                            return {\r\n                                success: 0\r\n                            }\r\n                        }\r\n                    }).catch((e) => {\r\n                        console.log(e)\r\n                        console.log(\"Error while uploading image\")\r\n                        return {\r\n                            success: 0\r\n                        }\r\n                    })\r\n                },\r\n            }\r\n        }\r\n    },\r\n    header: Header,\r\n    quote: Quote,\r\n    marker: Marker,\r\n    checklist: CheckList,\r\n    delimiter: Delimiter,\r\n    inlineCode: InlineCode,\r\n    simpleImage: SimpleImage\r\n}","/* eslint-disable eqeqeq */\r\nimport React, { useContext, useRef, useState, useEffect } from 'react';\r\n\r\nimport EditorJs from 'react-editor-js';\r\nimport Axios from \"axios\"\r\n\r\nimport { AuthContext } from \"../contexts/auth_context\"\r\nimport Card from \"../components/card2\"\r\nimport { hexStrColor, invertColor } from \"../lib/colors.lib\"\r\nimport { Button, Modal } from \"react-bootstrap\"\r\nimport { EDITOR_JS_TOOLS } from \"../lib/editorjs.dependencies\"\r\nimport { getApiLink } from '../lib/env.lib';\r\nimport { Redirect } from \"react-router-dom\"\r\nexport const randNum = (min, max) => {\r\n    let random = Math.round(Math.random() * (+max - +min) + +min)\r\n    return random\r\n}\r\n\r\nexport const getRandomBanner = () => {\r\n    return `https://picsum.photos/id/${randNum(0, 1084)}/1200/400.jpg`\r\n}\r\nconst Editor = (props) => {\r\n    // let key_i = 0;\r\n    const instanceRef = useRef(null);\r\n\r\n    const { user_id, user_dp, user_fullname, user_username } = useContext(AuthContext)\r\n    const [show, setShow] = useState(false)\r\n    const [data_editor, setData] = useState(null)\r\n    const [mode, setMode] = useState(null)\r\n    const [api, setApi] = useState(\"\")\r\n    const [title, setTitle] = useState(\"\")\r\n    const [preview, setPreview] = useState(\"\")\r\n    const [redir, setRedirect] = useState(<></>)\r\n    const [ready, setReady] = useState(false)\r\n    const [articleId, setArticleId] = useState(\"\")\r\n    const [banner, setBanner] = useState(\"NA\")\r\n    const [article_tags, setTags] = useState([])\r\n    const [tagsInput, setTagsInput] = useState()\r\n\r\n    function handleTagsAddition(e) {\r\n        let val = e.target.value\r\n        let lastChar = val[val.length - 1] //take only the last character\r\n        if (lastChar === ' ') {//check if the last character is a <space>\r\n\r\n            if (article_tags.length < 5) {\r\n                if (val.trim().length >= 3 && val.trim().length <= 20) {\r\n                    let t = article_tags\r\n                    if (t.indexOf(val.trim().toLowerCase()) == -1) {\r\n                        setTags(t.concat(val.trim().toLowerCase()))\r\n                    } else {\r\n                        props.notyf.open({ type: \"warn\", message: \"The tag has already been added.\" })\r\n                    }\r\n                } else {\r\n                    props.notyf.error(\"Invalid tag\")\r\n                }\r\n            } else {\r\n                props.notyf.error(\"Only upto 5 tags are allowed on a single article.\")\r\n            }\r\n            setTagsInput(\"\")\r\n        }\r\n        else {\r\n            setTagsInput(val)\r\n        }\r\n    }\r\n\r\n    function handleTagRemoval(val) {\r\n        let i = article_tags.indexOf(val)\r\n        if (i != -1) {\r\n            let t = article_tags\r\n            t.splice(i, 1)\r\n            setTags(t)\r\n            handleSave()\r\n        } else {\r\n            props.notyf.error(\"Tag not found\")\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    function handleOpen() {\r\n        setShow(true)\r\n    }\r\n\r\n    function validatePublish() {\r\n        if (data_editor.blocks.length > 0) {\r\n            if (data_editor.blocks[0].type == \"paragraph\" || data_editor.blocks[0].type == \"header\") {\r\n                handleOpen()\r\n            } else {\r\n                props.notyf.error(\"Invalid article title\")\r\n            }\r\n        } else {\r\n            props.notyf.error(\"Invalid article\")\r\n        }\r\n    }\r\n    function handleClose() {\r\n        setShow(false)\r\n    }\r\n    async function handleSave() {\r\n        const savedData = await instanceRef.current.save();\r\n        if (savedData.blocks.length > 0) {\r\n            setTitle(savedData.blocks[0].data.text)\r\n            if (savedData.blocks.length > 1) {\r\n                setPreview(savedData.blocks[1].data.text)\r\n            }\r\n        } else {\r\n            setTitle(\"No title\")\r\n        }\r\n        setData(savedData)\r\n        console.log(\"savedData\", savedData);\r\n    }\r\n\r\n    function handleBtnClick() {\r\n        handleSave()\r\n        if (data_editor.blocks.length > 0) {\r\n\r\n            if (data_editor.blocks[0].type == \"paragraph\" || data_editor.blocks[0].type == \"header\") {\r\n\r\n\r\n                let _data_editor = {}\r\n                if (props.mode == \"edit\") {\r\n                    _data_editor.article_id = articleId\r\n                } else if (props.mode == \"new\") {\r\n\r\n                }\r\n\r\n                if (banner != \"NA\") {\r\n                    _data_editor.article_banner = banner\r\n                }\r\n                _data_editor.xAuthToken = props.auth_token\r\n                _data_editor.title = data_editor.blocks[0].data.text\r\n                _data_editor.content = JSON.stringify(data_editor)\r\n                _data_editor.preview = (data_editor.blocks.length >= 2) ? data_editor.blocks[1].data.text : data_editor.blocks[0].data.text\r\n                _data_editor.tags = article_tags\r\n\r\n                console.log({ _data_editor })\r\n\r\n                Axios.post(`${getApiLink()}/api/v1/${api}`, _data_editor).then((response) => {\r\n                    console.log(response)\r\n                    if (response.data.success) {\r\n                        if (props.mode == \"edit\") {\r\n                            props.notyf.success(\"Saved article\")\r\n\r\n                        } else {\r\n                            props.notyf.success(\"Published article\")\r\n                        }\r\n                        setRedirect(\r\n                            <>\r\n                                <Redirect to={(() => `/read/${response.data.message.data.article_id}`)()} />\r\n                            </>\r\n                        )\r\n                    }\r\n                }).catch(e => {\r\n                    if (e) {\r\n                        console.log({ resp: e.response.data })\r\n                        if (e.response.data.error.message != null) {\r\n                            props.notyf.error(\"\" + e.response.data.error.message)\r\n                        } else {\r\n                            props.notyf.error(\"Error occured\")\r\n                        }\r\n                    } else {\r\n                        props.notyf.error(\"Error occured\")\r\n                    }\r\n                })\r\n\r\n            } else {\r\n                props.notyf.error(\"Invalid article title\")\r\n            }\r\n        } else {\r\n            props.notyf.error(\"Invalid article\")\r\n        }\r\n    }\r\n\r\n    function handleBannerClick() {\r\n        if (banner == \"NA\") {\r\n            setBanner(getRandomBanner())\r\n        } else {\r\n            setBanner(\"NA\")\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        if (props.mode == \"edit\") {\r\n            setMode(\"Save\")\r\n            setApi(\"updateArticleById\")\r\n            if (props.articleData) {\r\n                setData(JSON.parse(props.articleData.content))\r\n            } else {\r\n                setData({ time: Date.now(), blocks: [], version: \"2.17.0\" })\r\n            }\r\n\r\n        } else {\r\n            setMode(\"Publish\")\r\n            setApi(\"createArticle\")\r\n            setData({ time: Date.now(), blocks: [], version: \"2.17.0\" })\r\n            setBanner(\"NA\")\r\n        }\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        if (props.articleData) {\r\n            setReady(true)\r\n            setArticleId(props.articleData.article_id)\r\n            setData(JSON.parse(props.articleData.content))\r\n            setBanner(props.articleData.article_banner)\r\n\r\n            if (props.articleData.tags) {\r\n                let t = props.articleData.tags.map(i => i.tag)\r\n                setTags(t)\r\n            }\r\n\r\n        }\r\n    }, [props.articleData])\r\n\r\n    return (<>\r\n        {/* <br /> */}\r\n        {redir}\r\n        <div className=\"w-100 text-center\" style={{\r\n            // marginTop: \"90px\"\r\n        }}>\r\n\r\n            {(banner != \"NA\") ? (<>\r\n\r\n                {/* <div className=\"text-center mb-2 hide-xs hide-sm show-md show-lg show-xl\">\r\n                    <img src={banner} alt=\"&nbsp;\" style={{\r\n                        maxHeight: \"20vw\",\r\n                        // maxWidth: \"1200px\",\r\n                        width: \"100vw\",\r\n\r\n                    }} />\r\n                </div> */}\r\n\r\n                <div className=\"w-100 show-xs show-sm hide-md\">\r\n                    <div className=\" text-center mb-2\" style={{\r\n                        height: \"40vw\",\r\n                        width: \"100%\",\r\n                        overflow: \"hidden\",\r\n                        display: \"flex\",\r\n                        justifyContent: \"center\",\r\n                        alignItems: \"center\",\r\n                        borderBottomRightRadius: \"18px\",\r\n                        borderBottomLeftRadius: \"18px\",\r\n\r\n                    }}>\r\n                        <img src={banner} alt=\"&nbsp;\" style={{\r\n                            height: \"100%\",\r\n                            width: \"auto\",\r\n                            borderBottomRightRadius: \"18px\",\r\n                            borderBottomLeftRadius: \"18px\",\r\n                        }} />\r\n                    </div>\r\n                </div>\r\n            </>) : (<></>)}\r\n        </div>\r\n\r\n\r\n        {/* </div> */}\r\n\r\n        <div className=\"container\">\r\n            {/* <p>{JSON.stringify(data)}</p> */}\r\n            <div className=\"row\">\r\n                <div className=\"col-md-2\">\r\n\r\n                    <button className=\"btn btn-primary mt-3\" onClick={validatePublish}>\r\n                        {mode}\r\n                    </button>\r\n\r\n                    <Modal show={show}\r\n                        onHide={handleClose}\r\n                        size=\"lg\"\r\n                    // dialogClassName=\"modal-90w\"\r\n                    >\r\n                        <Modal.Header closeButton>\r\n                            <Modal.Title>{mode} Article</Modal.Title>\r\n                        </Modal.Header>\r\n                        <Modal.Body>\r\n\r\n                            <h5>Article Card Preview</h5>\r\n                            <Card className=\"mb-4\" type={1} data={{\r\n                                article_id: \"test-article\",\r\n                                title: title,\r\n                                time: Date.now(),\r\n                                content: preview,\r\n                                bannerLink: banner,\r\n                                tags: article_tags,\r\n                                user: {\r\n                                    user_id: user_id,\r\n                                    imageLink: user_dp,\r\n                                    name: user_fullname,\r\n                                    username: user_username\r\n                                }\r\n                            }} />\r\n\r\n\r\n                            <hr className=\"light\" />\r\n\r\n                            <h5>Add tags</h5>\r\n\r\n                            <input type=\"text\" placeholder=\"enter tags\" className=\"form-control\" value={tagsInput} onChange={handleTagsAddition} />\r\n                            <div className=\"text-muted\" style={{ fontSize: \"12px\" }}>Press space to add tags</div>\r\n                            <br />\r\n                            <div className=\"tags\">\r\n\r\n                                {article_tags.map((i) => {\r\n\r\n                                    let h = hexStrColor(i)\r\n                                    let inv = invertColor(h, true)\r\n\r\n                                    console.log({ h, inv })\r\n                                    return (<>\r\n                                        <div className=\"tag d-inline-block noselect\" style={{\r\n                                            backgroundColor: \"#\" + h,\r\n                                            color: inv,\r\n                                            cursor: \"pointer\"\r\n                                        }} onClick={(() => handleTagRemoval(i))}>\r\n                                            #{i}\r\n                                        </div>\r\n                                    </>)\r\n\r\n                                })}\r\n\r\n                                {(() => {\r\n                                    if (article_tags.length > 0)\r\n                                        return (\r\n                                            <>\r\n                                                <div className=\"text-muted\" style={{ fontSize: \"12px\" }}>Click on the tags to remove them</div>\r\n                                            </>\r\n                                        )\r\n                                })()}\r\n                            </div>\r\n                            <hr className=\"light\" />\r\n                            Would you like to {mode} this article.\r\n                            <br />\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            <Button variant=\"secondary\" onClick={handleClose}>\r\n                                Close\r\n                            </Button>\r\n                            <Button variant=\"primary\" onClick={handleBtnClick}>\r\n                                {mode}\r\n                            </Button>\r\n                        </Modal.Footer>\r\n                    </Modal>\r\n                    <button className=\"btn btn-outline-secondary btn-sm mt-1 show-xs show-sm hide-md\" onClick={handleBannerClick}>\r\n                        {(() => {\r\n                            if (banner == \"NA\") {\r\n                                return \"Add Banner\"\r\n                            } else {\r\n                                return \"Remove Banner\"\r\n                            }\r\n                        })()}\r\n                    </button>\r\n\r\n                    {(() => {\r\n                        if (banner != \"NA\") {\r\n                            return (\r\n                                <>\r\n                                    <button className=\"btn btn-sm btn-info show-xs show-sm hide-md\" onClick={() => {\r\n                                        setBanner(getRandomBanner())\r\n                                    }}>Randomize</button>\r\n                                </>\r\n                            )\r\n                        }\r\n                    })()}\r\n                </div>\r\n                <div className=\"col-md-8\">\r\n                    <div className=\"w-100\">\r\n                        {(banner != \"NA\") ? (<>\r\n\r\n                            <div className=\"text-center mb-2 hide-xs hide-sm show-md show-lg show-xl\">\r\n                                <img src={banner} alt=\"&nbsp;\" style={{\r\n                                    maxHeight: \"20vw\",\r\n                                    // maxWidth: \"1200px\",\r\n                                    width: \"100%\",\r\n                                    borderBottomRightRadius: \"18px\",\r\n                                    borderBottomLeftRadius: \"18px\",\r\n\r\n                                }} />\r\n                            </div>\r\n\r\n                            {/* <div className=\"w-100 show-xs show-sm hide-md\">\r\n                                <div className=\" text-center mb-2\" style={{\r\n                                    height: \"40vw\",\r\n                                    width: \"100vw\",\r\n                                    overflow: \"hidden\",\r\n                                    display: \"flex\",\r\n                                    justifyContent: \"center\",\r\n                                    alignItems: \"center\"\r\n\r\n                                }}>\r\n                                    <img src={banner} alt=\"&nbsp;\" style={{\r\n                                        height: \"100%\",\r\n                                        width: \"auto\",\r\n                                    }} />\r\n                                </div>\r\n                            </div> */}\r\n                        </>) : (<></>)}\r\n                    </div>\r\n\r\n                    {(() => {\r\n                        if ((props.mode == \"edit\" && ready) || (props.mode == \"new\")) {\r\n                            return (\r\n                                <>\r\n                                    <EditorJs\r\n                                        placeholder=\"Write an awesome...\"\r\n                                        instanceRef={instance => (instanceRef.current = instance)}\r\n                                        onChange={handleSave}\r\n                                        tools={EDITOR_JS_TOOLS}\r\n                                        data={data_editor}\r\n                                    />\r\n                                </>\r\n                            )\r\n                        }\r\n                    })()}\r\n\r\n                </div>\r\n\r\n                <div className=\"col-md-2\">\r\n                    <button className=\"btn btn-outline-secondary btn-sm mt-3 hide-xs hide-sm show-md\" onClick={handleBannerClick}>\r\n                        {(() => {\r\n                            if (banner == \"NA\") {\r\n                                return \"Add Banner\"\r\n                            } else {\r\n                                return \"Remove Banner\"\r\n                            }\r\n                        })()}\r\n                    </button>\r\n\r\n                    {(() => {\r\n                        if (banner != \"NA\") {\r\n                            return (\r\n                                <>\r\n                                    <button className=\"btn btn-sm btn-info hide-xs hide-sm show-md mt-2\" onClick={() => {\r\n                                        setBanner(getRandomBanner())\r\n                                    }}>Randomize</button>\r\n                                </>\r\n                            )\r\n                        }\r\n                    })()}\r\n\r\n\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </>\r\n    );\r\n}\r\n\r\nexport default Editor;","import React, { useContext, useEffect } from 'react';\r\nimport Editor from \"./editorjs\"\r\nimport { AuthContext } from \"../contexts/auth_context\"\r\nimport notyf from \"../lib/notification\"\r\nconst NewArticle = (props) => {\r\n    console.log(props)\r\n    const { user_id, auth_token } = useContext(AuthContext)\r\n    useEffect(() => {\r\n        document.title = \"Create new article - Lattice\"\r\n    }, [])\r\n    \r\n    return (\r\n        <>\r\n            <Editor user_id={user_id} auth_token={auth_token} mode=\"new\" notyf={notyf} />\r\n        </>\r\n    );\r\n}\r\n\r\nexport default NewArticle;","import React, { useEffect, useState, useContext } from 'react';\r\nimport Editor from \"./editorjs\"\r\nimport Axios from \"axios\"\r\nimport { AuthContext } from \"../contexts/auth_context\"\r\nimport { getApiLink } from \"../lib/env.lib\"\r\n\r\nimport Page404 from \"./404\"\r\n\r\nimport notyf from \"../lib/notification\"\r\n\r\nconst EditArticle = (props) => {\r\n    console.log(props)\r\n    const { user_id, auth_token } = useContext(AuthContext)\r\n    const [data, setData] = useState(null)\r\n    const [disp, setDisp] = useState(0)\r\n\r\n    useEffect(() => {\r\n        Axios.post(`${getApiLink()}/api/v1/getArticleById`, {\r\n            xAuthToken: auth_token,\r\n            article_id: props.articleId\r\n        }).then((response) => {\r\n            console.log(response)\r\n            // alert(response)\r\n\r\n            if (response.data.success) {\r\n                // notyf.success(\"Loaded successfully!\")\r\n                if (response.data.message.data.author_id == user_id) {\r\n                    setData(response.data.message.data)\r\n                    setDisp(1)\r\n                    document.title = \"Edit Article - Lattice\"\r\n                } else {\r\n                    setDisp(2)\r\n                }\r\n            }\r\n        }).catch((e) => {\r\n            // alert(e)\r\n            // console.log({ response: e.response })\r\n            setDisp(2)\r\n            if (e) {\r\n                console.log({ resp: e.response.data })\r\n                if (e.response.data.error.message != null) {\r\n                    notyf.error(\"\" + e.response.data.error.message)\r\n                } else {\r\n                    notyf.error(\"Error\")\r\n                }\r\n            } else {\r\n                notyf.error(\"Error\")\r\n            }\r\n        })\r\n    }, [])\r\n    return (\r\n        <>\r\n            {(() => {\r\n                if (disp == 1) {\r\n                    return (\r\n                        <>\r\n                            <Editor mode=\"edit\" user_id={user_id} notyf={notyf} auth_token={auth_token} articleData={data} />\r\n                        </>\r\n                    )\r\n                } else if (disp == 2) {\r\n                    return (<><Page404 /></>)\r\n                }\r\n            })()}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default EditArticle;","import React, { useContext } from 'react'\n// import 'bootstrap/dist/css/bootstrap.min.css';\n\nimport { Redirect } from \"react-router-dom\"\nimport \"./themes/scss/App.scss\"\nimport \"notyf/notyf.min.css\"\nimport \"./util.css\"\n// import dark from \"./themes/dark.js\";\n// import dark_blue from \"./themes/dark_blue.js\";\n\n// import  \"./themes/dark_blue.css\";\n// import  \"./themes/dark.css\";\n\nimport StorageContextProvider, { StorageContext } from \"./contexts/storage_context\";\nimport ThemeContextProvider from \"./contexts/theme_context\";\nimport AuthContextProvider, { AuthContext } from \"./contexts/auth_context\";\n\nimport withSplashScreen from \"./pages/splashScreen\";\n\nimport Breakpoint from \"./components/breakpoint/breakpoint\"\n\n// import Navbar from \"./components/navbar\"\nimport Navbar from \"./components/Toolbar/toolbar\"\nimport BottomNavbar from \"./components/Toolbar/bottomNav\"\n\nimport Home from \"./pages/home\"\nimport Dashboard from \"./pages/userDashboard\"\n// import Loader from \"./components/loader\"\nimport Settings from \"./pages/settings\"\nimport Login from \"./pages/login\"\nimport Register from \"./pages/register\"\n\nimport Status from \"./pages/status\"\nimport Page404 from \"./pages/404.js\"\n// import DynamicSheet from \"./component/DynamicSheet\";\n\nimport Read from \"./pages/readArticles\"\n\nimport NewArticle from \"./pages/newArticle\"\nimport EditArticle from \"./pages/editArticle\"\n\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    // Link\n} from \"react-router-dom\";\n\nconst userDash = (props) => {\n    function pageType(p) {\n        let t = 0;\n        if (p !== null && p !== \"\") {\n            if (p.length > 1 && p.charAt(0) === \"@\") {\n                t = 1\n            } else {\n                t = 2\n            }\n        }\n\n        return t\n    }\n\n    if (pageType(props.match.params.username) == 1) {\n\n        let u = props.match.params.username\n\n        u = u.replace(\"@\", \"\")\n        return (<>\n            <br />\n            <br />\n            <br />\n            <Dashboard username={u} />\n        </>);\n    } else {\n        return (<> <Page404 /></>)\n    }\n}\n\nfunction AppInnerContainer() {\n\n    // useEffect(() => {\n    // document.getElementById(\"root\").style.display = \"block\";\n    // document.getElementById(\"page-loader\").style.display = \"none\";\n    // document.title = \"Lattice\";\n    // });\n\n    const { isLoggedIn } = useContext(AuthContext)\n\n    return (\n        <>\n            <ThemeContextProvider>\n                <Router>\n                    <div>\n                        <Breakpoint xs sm md lg xl>\n                            <Navbar />\n                        </Breakpoint>\n\n\n                        <Breakpoint xs sm>\n                            <div className=\"fixed-bottom\">\n                                <BottomNavbar />\n                            </div>\n                        </Breakpoint>\n\n\n                        {/* <br/> */}\n                        <Switch>\n                            <Route exact path=\"/\">\n                                <br />\n                                <br />\n                                <br />\n                                <Home />\n                            </Route>\n\n\n                            <Route path=\"/about\">\n                                {/* <div>About</div> */}\n                                <br />\n                                <br />\n                                <br />\n                                <Status />\n                            </Route>\n                            <Route path=\"/dashboard\">\n                                <br />\n                                <br />\n                                <br />\n                                {(() => {\n                                    if (isLoggedIn) {\n                                        return (<> <Dashboard mode=\"self\" /> </>)\n                                    } else {\n                                        return (<> <Redirect to=\"/login\" /> </>)\n                                    }\n                                })()}\n                            </Route>\n\n                            <Route path=\"/settings\">\n                                <br />\n                                <br />\n                                <br />\n                                {(() => {\n                                    if (isLoggedIn) {\n                                        return (<> <Settings /> </>)\n                                    } else {\n                                        return (<> <Redirect to=\"/login\" /> </>)\n                                    }\n                                })()}\n                            </Route>\n\n                            <Route path=\"/login\">\n                                <br />\n                                <br />\n                                <br />\n                                <Login />\n                            </Route>\n\n                            <Route path=\"/register\">\n                                <br />\n                                <br />\n                                <br />\n                                <Register />\n                            </Route>\n\n                            <Route path=\"/newArticle\" component=\n                                {(props) => {\n                                    console.log(props)\n                                    if (isLoggedIn) {\n                                        return (\n                                            <>\n                                                <br />\n                                                <br />\n                                                <br />\n                                                <NewArticle />\n                                            </>\n                                        )\n                                    } else {\n                                        return (<> <Redirect to=\"/login\" /> </>)\n                                    }\n                                }}\n                            />\n\n                            <Route path=\"/edit/:articleId\" component=\n                                {(props) => {\n                                    if (isLoggedIn) {\n                                        return (\n                                            <>\n                                                <br /><br /><br /> <EditArticle articleId={props.match.params.articleId} />\n                                            </>\n                                        )\n                                    } else {\n                                        return (<> <Redirect to=\"/login\" /> </>)\n                                    }\n                                }}\n                            />\n\n                            <Route path=\"/read/:articleId\" component=\n                                {(props) => {\n                                    return (<> <br /><br /><Read articleId={props.match.params.articleId} /> </>)\n                                }}\n                            />\n\n                            {/* <Route path=\"/e2\">\n                <Edit2 />\n              </Route> */}\n\n                            <Route path=\"/:username\" component={userDash} />\n\n                            <Route path=\"*\">\n                                <Page404 />\n                            </Route>\n                        </Switch>\n\n                    </div>\n\n                </Router>\n\n            </ThemeContextProvider>\n            {/* </div> */}\n\n        </>\n    );\n}\n\n\nconst App = () => {\n    return (\n        <>\n            <StorageContextProvider>\n                <AuthContextProvider>\n                    <AppInnerContainer />\n                </AuthContextProvider>\n            </StorageContextProvider>\n        </>\n    );\n}\n\n\nexport default withSplashScreen(App);\n// export default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\nserviceWorker.register();\n","module.exports = __webpack_public_path__ + \"static/media/logo.7d55c2d5.svg\";","module.exports = __webpack_public_path__ + \"static/media/i1.843d2b1c.png\";","module.exports = __webpack_public_path__ + \"static/media/i2.705b891f.png\";"],"sourceRoot":""}