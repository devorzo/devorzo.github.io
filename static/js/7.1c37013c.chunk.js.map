{"version":3,"sources":["pages/404.js","lib/editorjs.dependencies.js","pages/editorjs.js","pages/editArticle.js"],"names":["Page404","useEffect","document","title","className","id","data-text","style","width","fontSize","color","to","EDITOR_JS_TOOLS","embed","class","Embed","inlineToolbar","config","services","youtube","coub","imgur","twitch","gfycat","yandex","codepen","vimeo","twitter","regex","embedUrl","html","height","ids","join","instagram","table","Table","rows","cols","paragraph","Paragraph","list","List","warning","Warning","shortcut","titlePlaceholder","messagePlaceholder","code","Code","linkTool","LinkTool","endpoint","getApiLink","image","Image","uploader","uploadByFile","file","f","FormData","append","Axios","post","then","doc","console","log","data","success","url","file_name","catch","e","header","Header","quote","Quote","marker","Marker","checklist","CheckList","delimiter","Delimiter","inlineCode","InlineCode","simpleImage","SimpleImage","getRandomBanner","min","max","Math","round","random","Editor","props","instanceRef","useRef","useContext","AuthContext","user_id","user_dp","user_fullname","user_username","useState","show","setShow","data_editor","setData","mode","setMode","api","setApi","setTitle","preview","setPreview","redir","setRedirect","ready","setReady","articleId","setArticleId","banner","setBanner","article_tags","setTags","tagsInput","setTagsInput","handleClose","handleSave","a","current","save","savedData","blocks","length","text","handleBannerClick","articleData","JSON","parse","content","time","Date","now","version","article_id","article_banner","tags","t","map","i","tag","overflow","display","justifyContent","alignItems","marginTop","borderBottomRightRadius","borderBottomLeftRadius","src","alt","onClick","type","notyf","error","Modal","onHide","size","closeButton","Title","Body","bannerLink","user","imageLink","name","username","placeholder","value","onChange","val","target","trim","indexOf","toLowerCase","concat","open","message","h","hexStrColor","inv","invertColor","backgroundColor","cursor","splice","handleTagRemoval","Footer","Button","variant","_data_editor","xAuthToken","auth_token","stringify","response","resp","instance","tools","EditArticle","disp","setDisp","author_id"],"mappings":"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","file":"static/js/7.1c37013c.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\r\n\r\nimport { Link } from \"react-router-dom\"\r\n\r\nconst Page404 = () => {\r\n\r\n    useEffect(()=>{\r\n        document.title = \"Page not found - Lattice\"\r\n    },[])\r\n    return (\r\n        <div className=\"container\">\r\n            <div id=\"page-top\">\r\n                <div id=\"wrapper\">\r\n                    <div className=\"d-flex flex-column\" id=\"content-wrapper\">\r\n                        <div id=\"content card-sh\">\r\n                            <div className=\"container-fluid\">\r\n                                <div className=\"text-center mt-5\">\r\n                                    <div className=\"error mx-auto\" data-text=\"404\"\r\n                                        style={{ width: \"297px\", fontSize: \"147px\" }}>\r\n                                        <p className=\"m-0\">404</p>\r\n                                    </div>\r\n                                    <p className=\"text-dark mb-5 lead\" style={{ color: \"rgb(255,255,255)\", fontSize: \"50px\" }}>Page\r\n                                    Not Found\r\n                                    </p>\r\n                                    {/* color: \"rgb(203,207,238)\"  */}\r\n                                    <p style={{}}>There seems to be a glitch in the Matrix</p>\r\n                                    <Link\r\n                                        to=\"/\" style={{}}>‚Üê Back to Home</Link>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Page404;","import Axios from \"axios\"\r\nimport { getApiLink } from \"./env.lib\"\r\nimport Embed from '@editorjs/embed'\r\nimport Table from '@editorjs/table'\r\nimport Paragraph from '@editorjs/paragraph'\r\nimport List from '@editorjs/list'\r\nimport Warning from '@editorjs/warning'\r\nimport Code from '@editorjs/code'\r\nimport LinkTool from '@editorjs/link'\r\nimport Image from '@editorjs/image'\r\n// import Raw from '@editorjs/raw'\r\nimport Header from '@editorjs/header'\r\nimport Quote from '@editorjs/quote'\r\nimport Marker from '@editorjs/marker'\r\nimport CheckList from '@editorjs/checklist'\r\nimport Delimiter from '@editorjs/delimiter'\r\nimport InlineCode from '@editorjs/inline-code'\r\nimport SimpleImage from '@editorjs/simple-image'\r\n\r\nexport const EDITOR_JS_TOOLS = {\r\n    embed: {\r\n        class: Embed,\r\n        inlineToolbar: true,\r\n        config: {\r\n            services: {\r\n                youtube: true,\r\n                coub: true,\r\n                imgur: true,\r\n                twitch: true,\r\n                gfycat: true,\r\n                yandex: true,\r\n                codepen: true,\r\n                vimeo: true,\r\n                // twitter:true,\r\n                twitter: {\r\n                    regex: /^https?:\\/\\/twitter\\.com\\/(?:#!\\/)?(\\w+)\\/status(?:es)?\\/(\\d+)(?:\\/.*)?$/,\r\n                    embedUrl: 'https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>',\r\n                    html: '<iframe width=\"100%\" height=\"600\" style=\"margin: 0 auto;\" frameborder=\"0\" scrolling=\"no\" allowtransparency=\"true\"></iframe>',\r\n                    height: 600,\r\n                    width: 600,\r\n                    id: ids => ids.join('/status/')\r\n                },\r\n                instagram: {\r\n                    regex: /(https?:\\/\\/(?:www\\.)?instagram\\.com\\/p\\/([^/?#&]+)).*/,\r\n                    embedUrl: '<%= remote_id %>',\r\n                    html: '<div style=\"width: 100%; height: 100px; background-color: #DB2E6E; text-align: center; color: #ffffff; padding-top: 40px\">Instagram embedded.</div>',\r\n                    height: 300,\r\n                    width: 600\r\n                },\r\n\r\n                // instagram: {\r\n                //     regex: /https?:\\/\\/www\\.instagram\\.com\\/p\\/([^\\/\\?\\&]+)\\/?/,\r\n                //     embedUrl: 'https://www.instagram.com/p/<%= remote_id %>/embed',\r\n                //     html: '<iframe width=\"400\" height=\"505\" style=\"margin: 0 auto;\" frameborder=\"0\" scrolling=\"no\" allowtransparency=\"true\"></iframe>',\r\n                //     height: 505,\r\n                //     width: 400\r\n                // },\r\n\r\n            }\r\n        }\r\n    },\r\n    table: {\r\n        class: Table,\r\n        inlineToolbar: true,\r\n        config: {\r\n            rows: 2,\r\n            cols: 3,\r\n        },\r\n    },\r\n    paragraph: {\r\n        class: Paragraph,\r\n        inlineToolbar: true\r\n    },\r\n    list: {\r\n        class: List,\r\n        inlineToolbar: true,\r\n    },\r\n    warning: {\r\n        class: Warning,\r\n        inlineToolbar: true,\r\n        shortcut: 'CMD+SHIFT+W',\r\n        config: {\r\n            titlePlaceholder: 'Title',\r\n            messagePlaceholder: 'Message',\r\n        },\r\n    },\r\n    code: Code,\r\n    // linkTool: LinkTool,\r\n    linkTool: {\r\n        class: LinkTool,\r\n        config: {\r\n            endpoint: `${getApiLink()}/linkToolUrl` , // Your backend endpoint for url data fetching\r\n        }\r\n    },\r\n    // image: Image,\r\n    image: {\r\n        class: Image,\r\n        config: {\r\n\r\n            uploader: {\r\n                uploadByFile(file) {\r\n                    let f = new FormData()\r\n                    f.append(\"file\", file)\r\n                    return Axios.post(`${getApiLink()}/api/v1/upload`, f, {\r\n\r\n                    }).then((doc) => {\r\n                        console.log(doc)\r\n\r\n                        if (doc.data.success) {\r\n                            return {\r\n                                success: 1,\r\n                                file: {\r\n                                    url: `${getApiLink()}/file/${doc.data.file_name}`\r\n                                }\r\n                            }\r\n                        } else {\r\n                            return {\r\n                                success: 0\r\n                            }\r\n                        }\r\n                    }).catch((e) => {\r\n                        console.log(e)\r\n                        console.log(\"Error while uploading image\")\r\n                        return {\r\n                            success: 0\r\n                        }\r\n                    })\r\n                },\r\n            }\r\n        }\r\n    },\r\n    header: Header,\r\n    quote: Quote,\r\n    marker: Marker,\r\n    checklist: CheckList,\r\n    delimiter: Delimiter,\r\n    inlineCode: InlineCode,\r\n    simpleImage: SimpleImage\r\n}","/* eslint-disable eqeqeq */\r\nimport React, { useContext, useRef, useState, useEffect } from 'react';\r\n\r\nimport EditorJs from 'react-editor-js';\r\nimport Axios from \"axios\"\r\n\r\nimport { AuthContext } from \"../contexts/auth_context\"\r\nimport Card from \"../components/card2\"\r\nimport { hexStrColor, invertColor } from \"../lib/colors.lib\"\r\nimport { Button, Modal } from \"react-bootstrap\"\r\nimport { EDITOR_JS_TOOLS } from \"../lib/editorjs.dependencies\"\r\nimport { getApiLink } from '../lib/env.lib';\r\nimport { Redirect } from \"react-router-dom\"\r\nexport const randNum = (min, max) => {\r\n    let random = Math.round(Math.random() * (+max - +min) + +min)\r\n    return random\r\n}\r\n\r\nexport const getRandomBanner = () => {\r\n    return `https://picsum.photos/id/${randNum(0, 1084)}/1200/400.jpg`\r\n}\r\nconst Editor = (props) => {\r\n    // let key_i = 0;\r\n    const instanceRef = useRef(null);\r\n\r\n    const { user_id, user_dp, user_fullname, user_username } = useContext(AuthContext)\r\n    const [show, setShow] = useState(false)\r\n    const [data_editor, setData] = useState(null)\r\n    const [mode, setMode] = useState(null)\r\n    const [api, setApi] = useState(\"\")\r\n    const [title, setTitle] = useState(\"\")\r\n    const [preview, setPreview] = useState(\"\")\r\n    const [redir, setRedirect] = useState(<></>)\r\n    const [ready, setReady] = useState(false)\r\n    const [articleId, setArticleId] = useState(\"\")\r\n    const [banner, setBanner] = useState(\"NA\")\r\n    const [article_tags, setTags] = useState([])\r\n    const [tagsInput, setTagsInput] = useState()\r\n\r\n    function handleTagsAddition(e) {\r\n        let val = e.target.value\r\n        let lastChar = val[val.length - 1] //take only the last character\r\n        if (lastChar === ' ') {//check if the last character is a <space>\r\n\r\n            if (article_tags.length < 5) {\r\n                if (val.trim().length >= 3 && val.trim().length <= 20) {\r\n                    let t = article_tags\r\n                    if (t.indexOf(val.trim().toLowerCase()) === -1) {\r\n                        setTags(t.concat(val.trim().toLowerCase()))\r\n                    } else {\r\n                        props.notyf.open({ type: \"warn\", message: \"The tag has already been added.\" })\r\n                    }\r\n                } else {\r\n                    props.notyf.error(\"Invalid tag\")\r\n                }\r\n            } else {\r\n                props.notyf.error(\"Only upto 5 tags are allowed on a single article.\")\r\n            }\r\n            setTagsInput(\"\")\r\n        }\r\n        else {\r\n            setTagsInput(val)\r\n        }\r\n    }\r\n\r\n    function handleTagRemoval(val) {\r\n        let i = article_tags.indexOf(val)\r\n        if (i !== -1) {\r\n            let t = article_tags\r\n            t.splice(i, 1)\r\n            setTags(t)\r\n            handleSave()\r\n        } else {\r\n            props.notyf.error(\"Tag not found\")\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    function handleOpen() {\r\n        setShow(true)\r\n    }\r\n\r\n    function validatePublish() {\r\n        if (data_editor.blocks.length > 0) {\r\n            if (data_editor.blocks[0].type === \"paragraph\" || data_editor.blocks[0].type === \"header\") {\r\n                handleOpen()\r\n            } else {\r\n                props.notyf.error(\"Invalid article title\")\r\n            }\r\n        } else {\r\n            props.notyf.error(\"Invalid article\")\r\n        }\r\n    }\r\n    function handleClose() {\r\n        setShow(false)\r\n    }\r\n    async function handleSave() {\r\n        const savedData = await instanceRef.current.save();\r\n        if (savedData.blocks.length > 0) {\r\n            setTitle(savedData.blocks[0].data.text)\r\n            if (savedData.blocks.length > 1) {\r\n                setPreview(savedData.blocks[1].data.text)\r\n            }\r\n        } else {\r\n            setTitle(\"No title\")\r\n        }\r\n        setData(savedData)\r\n        console.log(\"savedData\", savedData);\r\n    }\r\n\r\n    function handleBtnClick() {\r\n        handleSave()\r\n        if (data_editor.blocks.length > 0) {\r\n\r\n            if (data_editor.blocks[0].type === \"paragraph\" || data_editor.blocks[0].type === \"header\") {\r\n\r\n\r\n                let _data_editor = {}\r\n                if (props.mode === \"edit\") {\r\n                    _data_editor.article_id = articleId\r\n                } else if (props.mode === \"new\") {\r\n\r\n                }\r\n\r\n                if (banner !== \"NA\") {\r\n                    _data_editor.article_banner = banner\r\n                }\r\n                _data_editor.xAuthToken = props.auth_token\r\n                _data_editor.title = data_editor.blocks[0].data.text\r\n                _data_editor.content = JSON.stringify(data_editor)\r\n                _data_editor.preview = (data_editor.blocks.length >= 2) ? data_editor.blocks[1].data.text : data_editor.blocks[0].data.text\r\n                _data_editor.tags = article_tags\r\n\r\n                console.log({ _data_editor })\r\n\r\n                Axios.post(`${getApiLink()}/api/v1/${api}`, _data_editor).then((response) => {\r\n                    console.log(response)\r\n                    if (response.data.success) {\r\n                        if (props.mode === \"edit\") {\r\n                            props.notyf.success(\"Saved article\")\r\n\r\n                        } else {\r\n                            props.notyf.success(\"Published article\")\r\n                        }\r\n                        setRedirect(\r\n                            <>\r\n                                <Redirect to={(() => `/read/${response.data.message.data.article_id}`)()} />\r\n                            </>\r\n                        )\r\n                    }\r\n                }).catch(e => {\r\n                    if (e) {\r\n                        console.log({ resp: e.response.data })\r\n                        if (e.response.data.error.message !== null) {\r\n                            props.notyf.error(\"\" + e.response.data.error.message)\r\n                        } else {\r\n                            props.notyf.error(\"Error occured\")\r\n                        }\r\n                    } else {\r\n                        props.notyf.error(\"Error occured\")\r\n                    }\r\n                })\r\n\r\n            } else {\r\n                props.notyf.error(\"Invalid article title\")\r\n            }\r\n        } else {\r\n            props.notyf.error(\"Invalid article\")\r\n        }\r\n    }\r\n\r\n    function handleBannerClick() {\r\n        if (banner === \"NA\") {\r\n            setBanner(getRandomBanner())\r\n        } else {\r\n            setBanner(\"NA\")\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        if (props.mode === \"edit\") {\r\n            setMode(\"Save\")\r\n            setApi(\"updateArticleById\")\r\n            if (props.articleData) {\r\n                setData(JSON.parse(props.articleData.content))\r\n            } else {\r\n                setData({ time: Date.now(), blocks: [], version: \"2.17.0\" })\r\n            }\r\n\r\n        } else {\r\n            setMode(\"Publish\")\r\n            setApi(\"createArticle\")\r\n            setData({ time: Date.now(), blocks: [], version: \"2.17.0\" })\r\n            setBanner(\"NA\")\r\n        }\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        if (props.articleData) {\r\n            setReady(true)\r\n            setArticleId(props.articleData.article_id)\r\n            setData(JSON.parse(props.articleData.content))\r\n            setBanner(props.articleData.article_banner)\r\n\r\n            if (props.articleData.tags) {\r\n                let t = props.articleData.tags.map(i => i.tag)\r\n                setTags(t)\r\n            }\r\n\r\n        }\r\n    }, [props.articleData])\r\n\r\n    return (<>\r\n        {/* <br /> */}\r\n        {redir}\r\n        <div className=\"w-100 text-center\" style={{\r\n            // marginTop: \"90px\"\r\n        }}>\r\n\r\n            {(banner !== \"NA\") ? (<>\r\n\r\n                {/* <div className=\"text-center mb-2 hide-xs hide-sm show-md show-lg show-xl\">\r\n                    <img src={banner} alt=\"&nbsp;\" style={{\r\n                        maxHeight: \"20vw\",\r\n                        // maxWidth: \"1200px\",\r\n                        width: \"100vw\",\r\n\r\n                    }} />\r\n                </div> */}\r\n\r\n                <div className=\"w-100 show-xs show-sm hide-md\">\r\n                    <div className=\" text-center mb-2\" style={{\r\n                        height: \"40vw\",\r\n                        width: \"100%\",\r\n                        overflow: \"hidden\",\r\n                        display: \"flex\",\r\n                        justifyContent: \"center\",\r\n                        alignItems: \"center\",\r\n                        marginTop: \"15px\",\r\n                        borderBottomRightRadius: \"18px\",\r\n                        borderBottomLeftRadius: \"18px\",\r\n\r\n                    }}>\r\n                        <div className=\"preload w-100 h-100\">\r\n                            <img\r\n                                src={banner} alt=\"&nbsp;\"\r\n                                style={{\r\n                                    height: \"100%\",\r\n                                    width: \"auto\",\r\n                                    borderBottomRightRadius: \"18px\",\r\n                                    borderBottomLeftRadius: \"18px\",\r\n                                }} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>) : (\r\n                    <>\r\n                        {/* <br /> */}\r\n                    </>\r\n                )}\r\n        </div>\r\n\r\n        <br />\r\n\r\n\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-2\">\r\n\r\n                    {/* <hr className=\"light\"/> */}\r\n                    <button className=\"btn btn-primary mt-3\" onClick={validatePublish}>\r\n                        {mode}\r\n                    </button>\r\n\r\n                    <Modal show={show}\r\n                        onHide={handleClose}\r\n                        size=\"lg\"\r\n                    // dialogClassName=\"modal-90w\"\r\n                    >\r\n                        <Modal.Header closeButton>\r\n                            <Modal.Title>{mode} Article</Modal.Title>\r\n                        </Modal.Header>\r\n                        <Modal.Body>\r\n\r\n                            <h5>Article Card Preview</h5>\r\n                            <Card className=\"mb-4\" type={1} data={{\r\n                                article_id: \"test-article\",\r\n                                title: title,\r\n                                time: Date.now(),\r\n                                content: preview,\r\n                                bannerLink: banner,\r\n                                tags: article_tags,\r\n                                user: {\r\n                                    user_id: user_id,\r\n                                    imageLink: user_dp,\r\n                                    name: user_fullname,\r\n                                    username: user_username\r\n                                }\r\n                            }} />\r\n\r\n\r\n                            <hr className=\"light\" />\r\n\r\n                            <h5>Add tags</h5>\r\n\r\n                            <input type=\"text\" placeholder=\"enter tags\" className=\"form-control\" value={tagsInput} onChange={handleTagsAddition} />\r\n                            <div className=\"text-muted\" style={{ fontSize: \"12px\" }}>Press space to add tags</div>\r\n                            <br />\r\n                            <div className=\"tags\">\r\n\r\n                                {article_tags.map((i) => {\r\n\r\n                                    let h = hexStrColor(i)\r\n                                    let inv = invertColor(h, true)\r\n\r\n                                    console.log({ h, inv })\r\n                                    return (<>\r\n                                        <div className=\"tag d-inline-block noselect\" style={{\r\n                                            backgroundColor: \"#\" + h,\r\n                                            color: inv,\r\n                                            cursor: \"pointer\"\r\n                                        }} onClick={(() => handleTagRemoval(i))}>\r\n                                            #{i}\r\n                                        </div>\r\n                                    </>)\r\n\r\n                                })}\r\n\r\n                                {(() => {\r\n                                    if (article_tags.length > 0)\r\n                                        return (\r\n                                            <>\r\n                                                <div className=\"text-muted\" style={{ fontSize: \"12px\" }}>Click on the tags to remove them</div>\r\n                                            </>\r\n                                        )\r\n                                })()}\r\n                            </div>\r\n                            <hr className=\"light\" />\r\n                            Would you like to {mode} this article.\r\n                            <br />\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            <Button variant=\"secondary\" onClick={handleClose}>\r\n                                Close\r\n                            </Button>\r\n                            <Button variant=\"primary\" onClick={handleBtnClick}>\r\n                                {mode}\r\n                            </Button>\r\n                        </Modal.Footer>\r\n                    </Modal>\r\n\r\n                    <button className=\"btn btn-outline-secondary btn-sm mt-1 show-xs show-sm hide-md\" onClick={handleBannerClick}>\r\n                        {(() => {\r\n                            if (banner === \"NA\") {\r\n                                return \"Add Banner\"\r\n                            } else {\r\n                                return \"Remove Banner\"\r\n                            }\r\n                        })()}\r\n                    </button>\r\n                    {/* <hr className=\"light\"/> */}\r\n\r\n                    {(() => {\r\n                        if (banner !== \"NA\") {\r\n                            return (\r\n                                <>\r\n                                    <button className=\"btn btn-sm btn-info show-xs show-sm hide-md\" onClick={() => {\r\n                                        setBanner(getRandomBanner())\r\n                                    }}>Randomize</button>\r\n                                </>\r\n                            )\r\n                        }\r\n                    })()}\r\n                </div>\r\n\r\n                <div className=\"col-md-8\">\r\n                    <div className=\"w-100\">\r\n                        {(banner !== \"NA\") ? (<>\r\n\r\n                            <div className=\"text-center mb-2 hide-xs hide-sm show-md show-lg show-xl\">\r\n                                <img src={banner} alt=\"&nbsp;\"\r\n                                    className=\"preload\"\r\n                                    style={{\r\n                                        height: \"20vw\",\r\n                                        // maxWidth: \"1200px\",\r\n                                        width: \"100%\",\r\n                                        borderBottomRightRadius: \"18px\",\r\n                                        borderBottomLeftRadius: \"18px\",\r\n\r\n                                    }} />\r\n                            </div>\r\n\r\n                            {/* <div className=\"w-100 show-xs show-sm hide-md\">\r\n                                <div className=\" text-center mb-2\" style={{\r\n                                    height: \"40vw\",\r\n                                    width: \"100vw\",\r\n                                    overflow: \"hidden\",\r\n                                    display: \"flex\",\r\n                                    justifyContent: \"center\",\r\n                                    alignItems: \"center\"\r\n\r\n                                }}>\r\n                                    <img src={banner} alt=\"&nbsp;\" style={{\r\n                                        height: \"100%\",\r\n                                        width: \"auto\",\r\n                                    }} />\r\n                                </div>\r\n                            </div> */}\r\n                        </>) : (<></>)}\r\n                    </div>\r\n\r\n                    {(() => {\r\n                        if ((props.mode === \"edit\" && ready) || (props.mode === \"new\")) {\r\n                            return (\r\n                                <>\r\n                                    {(banner == \"NA\" || banner == \"\") ? <br /> : <></>}\r\n                                    <EditorJs\r\n                                        placeholder=\"Write an awesome...\"\r\n                                        instanceRef={instance => (instanceRef.current = instance)}\r\n                                        onChange={handleSave}\r\n                                        tools={EDITOR_JS_TOOLS}\r\n                                        data={data_editor}\r\n                                    />\r\n                                </>\r\n                            )\r\n                        }\r\n                    })()}\r\n\r\n                </div>\r\n\r\n                <div className=\"col-md-2\">\r\n                    <button className=\"btn btn-outline-secondary btn-sm mt-3 hide-xs hide-sm show-md\" onClick={handleBannerClick}>\r\n                        {(() => {\r\n                            if (banner === \"NA\") {\r\n                                return \"Add Banner\"\r\n                            } else {\r\n                                return \"Remove Banner\"\r\n                            }\r\n                        })()}\r\n                    </button>\r\n\r\n                    {(() => {\r\n                        if (banner !== \"NA\") {\r\n                            return (\r\n                                <>\r\n                                    <button className=\"btn btn-sm btn-info hide-xs hide-sm show-md mt-2\" onClick={() => {\r\n                                        setBanner(getRandomBanner())\r\n                                    }}>Randomize</button>\r\n                                </>\r\n                            )\r\n                        }\r\n                    })()}\r\n\r\n\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </>\r\n    );\r\n}\r\n\r\nexport default Editor;","import React, { useEffect, useState, useContext } from 'react';\r\nimport Editor from \"./editorjs\"\r\nimport Axios from \"axios\"\r\nimport { AuthContext } from \"../contexts/auth_context\"\r\nimport { getApiLink } from \"../lib/env.lib\"\r\n\r\nimport Page404 from \"./404\"\r\n\r\nimport notyf from \"../lib/notification\"\r\n\r\nconst EditArticle = (props) => {\r\n    console.log(props)\r\n    const { user_id, auth_token } = useContext(AuthContext)\r\n    const [data, setData] = useState(null)\r\n    const [disp, setDisp] = useState(0)\r\n\r\n    useEffect(() => {\r\n        Axios.post(`${getApiLink()}/api/v1/getArticleById`, {\r\n            xAuthToken: auth_token,\r\n            article_id: props.articleId\r\n        }).then((response) => {\r\n            console.log(response)\r\n            // alert(response)\r\n\r\n            if (response.data.success) {\r\n                // notyf.success(\"Loaded successfully!\")\r\n                if (response.data.message.data.author_id === user_id) {\r\n                    setData(response.data.message.data)\r\n                    setDisp(1)\r\n                    document.title = \"Edit Article - Lattice\"\r\n                } else {\r\n                    setDisp(2)\r\n                }\r\n            }\r\n        }).catch((e) => {\r\n            // alert(e)\r\n            // console.log({ response: e.response })\r\n            setDisp(2)\r\n            if (e) {\r\n                console.log({ resp: e.response.data })\r\n                if (e.response.data.error.message !== null) {\r\n                    notyf.error(\"\" + e.response.data.error.message)\r\n                } else {\r\n                    notyf.error(\"Error\")\r\n                }\r\n            } else {\r\n                notyf.error(\"Error\")\r\n            }\r\n        })\r\n    }, [])\r\n    return (\r\n        <>\r\n            {(() => {\r\n                if (disp === 1) {\r\n                    return (\r\n                        <>\r\n                            <Editor mode=\"edit\" user_id={user_id} notyf={notyf} auth_token={auth_token} articleData={data} />\r\n                        </>\r\n                    )\r\n                } else if (disp === 2) {\r\n                    return (<><Page404 /></>)\r\n                }\r\n            })()}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default EditArticle;"],"sourceRoot":""}